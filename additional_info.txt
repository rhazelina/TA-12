{
  "openapi": "3.1.0",
  "info": {
    "title": "S_PKL API",
    "description": "\n\nSistem PKL (Praktik Kerja Lapangan) Management API\n\nSee full documentation below for complete API reference.\n",
    "license": {
      "name": ""
    },
    "version": "0.1.0"
  },
  "paths": {
    "/api/admin/dashboard": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "Get dashboard statistics for admin(admin role can access)",
        "operationId": "get_dashboard_stats",
        "responses": {
          "200": {
            "description": "Dashboard statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DashboardResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin access required"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/guru": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "List guru with pagination and search",
        "operationId": "list_guru_handler",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Page number (default: 1)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Items per page (default: 10, max: 100)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Search term",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Guru list retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListGuruDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "Create new guru",
        "operationId": "create_guru_handler",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateGuruDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Guru created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GuruDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/guru/dashboard/kaprog": {
      "get": {
        "tags": [
          "Kaprog"
        ],
        "summary": "Get dashboard for Kaprog (request bardi)",
        "operationId": "get_kaprog_dashboard",
        "parameters": [
          {
            "name": "list_limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "default": 5,
              "maximum": 50,
              "minimum": 1
            }
          },
          {
            "name": "pkl_status",
            "in": "query",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/KaprogPklStatusFilter"
              }
            }
          },
          {
            "name": "pindah_status",
            "in": "query",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/KaprogPindahStatusFilter"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Kaprog Dashboard",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KaprogDashboardResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Not a Kaprog"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/guru/dashboard/wali-kelas": {
      "get": {
        "tags": [
          "Wali Kelas"
        ],
        "summary": "Get dashboard for Wali Kelas",
        "operationId": "get_wali_kelas_dashboard",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Page number (1-indexed)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "default": 1,
              "minimum": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Items per page (max: 100)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "default": 10,
              "maximum": 100,
              "minimum": 1
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Search by student name or NISN",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status_pkl",
            "in": "query",
            "description": "Filter by PKL status: sedang_pkl, belum_pkl, selesai",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "industri",
            "in": "query",
            "description": "Filter by industry name (partial match)",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pembimbing",
            "in": "query",
            "description": "Filter by school mentor name (partial match)",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Wali Kelas Dashboard",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WaliKelasDashboardDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Not a Wali Kelas"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/guru/me": {
      "put": {
        "tags": [
          "Guru"
        ],
        "summary": "Update current guru's own profile (role gru only)",
        "operationId": "update_guru_me_handler",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateGuruMeDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Profile updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GuruDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - only role 'gru' allowed"
          },
          "404": {
            "description": "Guru not found for current user"
          },
          "409": {
            "description": "Conflict - NIP/no_telp/kode_guru already exists"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/guru/{id}": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "Get guru by ID",
        "operationId": "get_guru_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Guru ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Guru retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GuruDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Guru not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "put": {
        "tags": [
          "Admin"
        ],
        "summary": "Update guru by ID",
        "operationId": "update_guru_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Guru ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateGuruDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Guru updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GuruDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Guru not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Admin"
        ],
        "summary": "Delete guru by ID",
        "operationId": "delete_guru_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Guru ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Guru deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Guru not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/industri": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "Get all industri with pagination and search support",
        "operationId": "list_industri_handler",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Page number (default: 1)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Items per page (default: 10, max: 100)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Search term",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "jurusan_id",
            "in": "query",
            "description": "Filter by jurusan ID",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "name",
            "in": "query",
            "description": "Search by name",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Industri list retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListIndustriDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "Create a new industri",
        "operationId": "create_industri_handler",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateIndustriDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Industri created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IndustriDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/industri/{id}": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "Get a industri by ID",
        "operationId": "get_industri_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Industri ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Industri retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IndustriDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Industri not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "put": {
        "tags": [
          "Admin"
        ],
        "summary": "Update a industri",
        "operationId": "update_industri_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Industri ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateIndustriDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Industri updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IndustriDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Industri not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Admin"
        ],
        "summary": "Delete a industri",
        "operationId": "delete_industri_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Industri ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Industri deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Industri not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/izin": {
      "post": {
        "tags": [
          "Izin"
        ],
        "summary": "Create izin handler (siswa only - multipart/form-data)",
        "description": "Creates a new izin (permission) request with form data and evidence files.\nRequires siswa authentication. Files should be uploaded as multipart field \"files\".\n\n**Request Body (multipart/form-data):**\n| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| tanggal | string (date) | Yes | Format: YYYY-MM-DD |\n| jenis | string | Yes | Jenis izin: \"Sakit\", \"Izin\", \"Dispen\" |\n| keterangan | string | Yes | Alasan izin |\n| files | file[] | Yes | 1-3 images (JPEG/PNG, max 5MB each), field name = \"files\" |\n\n**Example using cURL:**\n```bash\ncurl -X POST 'http://localhost:8001/api/izin' \\\n  -H 'Authorization: Bearer YOUR_TOKEN' \\\n  -F 'tanggal=2027-03-15' \\\n  -F 'jenis=Sakit' \\\n  -F 'keterangan=Demam tinggi' \\\n  -F 'files=@bukti1.jpg' \\\n  -F 'files=@bukti2.jpg'\n```",
        "operationId": "create_izin_handler",
        "requestBody": {
          "description": "Multipart form data with text fields and file uploads",
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/IzinCreateMultipart"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Izin created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IzinResponse"
                }
              }
            }
          },
          "400": {
            "description": "Validation error - missing fields, invalid date, or wrong file count (1-3 required)"
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - only siswa (students) can create izin"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/izin/me": {
      "get": {
        "tags": [
          "Izin"
        ],
        "summary": "List siswa izin handler (siswa only)",
        "description": "Lists all izin requests for the authenticated siswa, optionally filtered by status.",
        "operationId": "list_siswa_izin_handler",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "description": "Filter by status: pending, approved, rejected (optional)",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of siswa izin",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/IzinResponse"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Siswa access only"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/izin/pembimbing": {
      "get": {
        "tags": [
          "Izin"
        ],
        "summary": "List pembimbing izin handler (guru pembimbing only)",
        "description": "Lists all izin requests for students under the authenticated pembimbing guru,\noptionally filtered by status.",
        "operationId": "list_pembimbing_izin_handler",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "description": "Filter by status: pending, approved, rejected (optional)",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of izin for pembimbing's students",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/IzinResponse"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Guru access only"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/izin/wali-kelas": {
      "get": {
        "tags": [
          "Izin"
        ],
        "summary": "List wali kelas history handler (wali kelas only)",
        "description": "Lists all decided (approved/rejected) izin requests for students in the wali kelas's class.\nThis is a read-only history view for wali kelas.",
        "operationId": "list_wali_kelas_history_handler",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "description": "Filter by status: pending, approved, rejected (optional)",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of izin history for wali kelas class",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/IzinResponse"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Wali Kelas access only"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/izin/{id}": {
      "put": {
        "tags": [
          "Izin"
        ],
        "summary": "Update pending izin handler (siswa only - multipart/form-data)",
        "description": "Updates an existing pending izin request. Only allowed while status is pending.\nRequires siswa authentication and ownership of the izin.\n**Note:** This replaces ALL existing data. Both text fields and files are required.\n\n**Request Body (multipart/form-data):**\n| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| jenis | string | Yes | Jenis izin (replaces existing value) |\n| keterangan | string | Yes | Alasan izin (replaces existing value) |\n| files | file[] | Yes | Bukti foto pengganti - 1-3 images (replaces all existing photos) |\n\n**Example using cURL:**\n```bash\ncurl -X PUT 'http://localhost:8001/api/izin/123' \\\n  -H 'Authorization: Bearer YOUR_TOKEN' \\\n  -F 'jenis=Sakit' \\\n  -F 'keterangan=Demam tinggi' \\\n  -F 'files=@bukti_baru1.jpg' \\\n  -F 'files=@bukti_baru2.jpg'\n```",
        "operationId": "update_izin_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Izin ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "description": "Multipart form data. All fields are REQUIRED and will REPLACE existing values.",
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/IzinUpdateMultipart"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Izin updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IzinResponse"
                }
              }
            }
          },
          "400": {
            "description": "Validation error - cannot edit decided (approved/rejected) izin"
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - only siswa (students) can edit their own pending izin"
          },
          "404": {
            "description": "Izin not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Izin"
        ],
        "summary": "Delete pending izin handler (siswa only)",
        "description": "Deletes a pending izin request. Only allowed while status is pending.\nRequires siswa authentication and ownership of the izin.",
        "operationId": "delete_izin_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Izin ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Izin deleted successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Izin not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/izin/{id}/decide": {
      "patch": {
        "tags": [
          "Izin"
        ],
        "summary": "Decide izin handler (guru pembimbing only)",
        "description": "Approves or rejects a pending izin request. Requires rejection reason for rejected status.",
        "operationId": "decide_izin_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Izin ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IzinDecideReq"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Izin decision recorded",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IzinResponse"
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Pembimbing access only"
          },
          "404": {
            "description": "Izin not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/jurusan": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "Get all jurusan with pagination and search support",
        "operationId": "list_jurusan_handler",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Page number (default: 1)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Items per page (default: 10, max: 100)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Search term",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "in": "query",
            "description": "Search by name",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Jurusan list retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListJurusanDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "Create a new jurusan",
        "operationId": "create_jurusan_handler",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateJurusanDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Jurusan created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JurusanDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/jurusan/kaprog/me": {
      "get": {
        "tags": [
          "Kaprog"
        ],
        "summary": "List jurusan assigned to authenticated kaprog",
        "operationId": "list_kaprog_jurusan_handler",
        "responses": {
          "200": {
            "description": "Jurusan kaprog retrieved",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListJurusanDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/jurusan/{id}": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "Get a jurusan by ID",
        "operationId": "get_jurusan_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Jurusan ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Jurusan retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JurusanDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Jurusan not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "put": {
        "tags": [
          "Admin"
        ],
        "summary": "Update a jurusan",
        "operationId": "update_jurusan_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Jurusan ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateJurusanDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Jurusan updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JurusanDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Jurusan not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Admin"
        ],
        "summary": "Delete a jurusan",
        "operationId": "delete_jurusan_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Jurusan ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Jurusan deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Jurusan not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/kegiatan-pkl": {
      "post": {
        "tags": [
          "Koordinator"
        ],
        "summary": "Create new kegiatan PKL",
        "description": "Create a new kegiatan PKL (formal activity). This will be broadcast to all pembimbing who need to submit realisasi. Requires is_koordinator=true.",
        "operationId": "create_kegiatan_pkl",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateKegiatanPklDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Kegiatan PKL created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KegiatanPklDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/kegiatan-pkl/active": {
      "get": {
        "tags": [
          "Pembimbing"
        ],
        "summary": "List active kegiatan PKL for CURRENT tahun ajaran",
        "description": "Get all active kegiatan from active tahun_ajaran. Only returns kegiatan where tanggal_selesai \u003E= today. Expired/completed kegiatan are excluded. Each kegiatan includes a status field ('active' or 'completed').",
        "operationId": "list_active_kegiatan_pkl",
        "responses": {
          "200": {
            "description": "List of active kegiatan for current tahun ajaran",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/KegiatanPklDto"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/kegiatan-pkl/tahun-ajaran/{tahun_ajaran_id}": {
      "get": {
        "tags": [
          "Koordinator"
        ],
        "summary": "List kegiatan PKL by tahun ajaran (HISTORY)",
        "description": "Get all kegiatan PKL for a specific tahun ajaran. Use this for viewing historical records from previous academic years. Requires is_koordinator=true.",
        "operationId": "list_kegiatan_pkl_by_tahun_ajaran",
        "parameters": [
          {
            "name": "tahun_ajaran_id",
            "in": "path",
            "description": "Tahun Ajaran ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of kegiatan for the tahun ajaran",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/KegiatanPklDto"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/kegiatan-pkl/{id}": {
      "get": {
        "tags": [
          "Pembimbing"
        ],
        "summary": "Get kegiatan PKL detail by ID",
        "description": "Get detailed information about a specific kegiatan PKL by ID. Accessible by all authenticated users (Guru, Siswa, Admin).",
        "operationId": "get_kegiatan_pkl_by_id",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Kegiatan PKL ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Kegiatan PKL found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KegiatanPklDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Kegiatan PKL not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "put": {
        "tags": [
          "Koordinator"
        ],
        "summary": "Update existing kegiatan PKL",
        "description": "Update details of an existing kegiatan PKL. Requires is_koordinator=true.",
        "operationId": "update_kegiatan_pkl",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Kegiatan PKL ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateKegiatanPklDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Kegiatan PKL updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KegiatanPklDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Kegiatan PKL not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Koordinator"
        ],
        "summary": "Delete kegiatan PKL",
        "description": "Delete a kegiatan PKL by ID. This will also affect related realisasi records. Requires is_koordinator=true.",
        "operationId": "delete_kegiatan_pkl",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Kegiatan PKL ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Kegiatan PKL deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Kegiatan PKL not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/kelas": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "Get all kelas with pagination and search support",
        "operationId": "list_kelas_handler",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Page number (default: 1)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Items per page (default: 10, max: 100)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Search term",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "jurusan_id",
            "in": "query",
            "description": "Filter by jurusan ID",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Kelas list retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListKelasDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "Create a new kelas",
        "operationId": "create_kelas_handler",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateKelasDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Kelas created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KelasDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/kelas/{id}": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "Get a kelas by ID",
        "operationId": "get_kelas_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Kelas ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Kelas retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KelasDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Kelas not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "put": {
        "tags": [
          "Admin"
        ],
        "summary": "Update a kelas",
        "operationId": "update_kelas_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Kelas ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateKelasDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Kelas updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KelasDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Kelas not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Admin"
        ],
        "summary": "Delete a kelas",
        "operationId": "delete_kelas_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Kelas ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Kelas deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Kelas not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pindah-pkl": {
      "post": {
        "tags": [
          "Pindah PKL"
        ],
        "summary": "Create pindah PKL handler (siswa only)",
        "description": "Creates a new request to transfer PKL to a different industry.\nRequires siswa authentication. Validates that student has an active PKL.\n\n**Request Body (multipart/form-data):**\n| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| industri_baru_id | string (i64) | Yes | ID of target industry |\n| alasan | string | Yes | Reason for transfer (min 10 chars) |\n| files | file[] | Yes | 1-5 evidence files (images/PDF, max 5MB each) |\n\n**Example using cURL:**\n```bash\ncurl -X POST 'http://localhost:8001/api/pindah-pkl' \\\n  -H 'Authorization: Bearer YOUR_TOKEN' \\\n  -F 'industri_baru_id=456' \\\n  -F 'alasan=Jarak industri terlalu jauh dari rumah' \\\n  -F 'files=@bukti1.jpg' \\\n  -F 'files=@bukti2.pdf'\n```",
        "operationId": "create_pindah_pkl_handler",
        "requestBody": {
          "description": "Multipart form data with text fields and file uploads",
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/PindahPklCreateMultipart"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Pindah PKL request created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PindahPklResponse"
                }
              }
            }
          },
          "400": {
            "description": "Validation error - missing fields, invalid industry ID, or active request exists"
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - only siswa can create requests"
          },
          "409": {
            "description": "Conflict - student already has an active request or target industry quota is full"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pindah-pkl/kaprog": {
      "get": {
        "tags": [
          "Pindah PKL"
        ],
        "summary": "List pindah PKL for kaprog handler (kaprog only)",
        "description": "Lists all pindah PKL requests pending at Kaprog level.",
        "operationId": "list_kaprog_handler",
        "responses": {
          "200": {
            "description": "List of pending pindah PKL for kaprog",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PindahPklListResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - Kaprog access only"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pindah-pkl/koordinator": {
      "get": {
        "tags": [
          "Pindah PKL"
        ],
        "summary": "List pindah PKL for koordinator handler (koordinator only)",
        "description": "Lists all pindah PKL requests pending at Koordinator level.",
        "operationId": "list_koordinator_handler",
        "responses": {
          "200": {
            "description": "List of pending pindah PKL for koordinator",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PindahPklListResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - Koordinator access only"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pindah-pkl/me": {
      "get": {
        "tags": [
          "Pindah PKL"
        ],
        "summary": "Get my pindah PKL handler (siswa only)",
        "description": "Returns the active pindah PKL request for the authenticated student.\nReturns 404 if no active request exists.",
        "operationId": "get_my_pindah_pkl_handler",
        "responses": {
          "200": {
            "description": "Active pindah PKL request found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PindahPklResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - only siswa can access"
          },
          "404": {
            "description": "No active pindah PKL request found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pindah-pkl/pembimbing": {
      "get": {
        "tags": [
          "Pindah PKL"
        ],
        "summary": "List pindah PKL for pembimbing handler (pembimbing only)",
        "description": "Lists all pending pindah PKL requests for students under the\nauthenticated pembimbing guru.",
        "operationId": "list_pembimbing_handler",
        "responses": {
          "200": {
            "description": "List of pending pindah PKL for pembimbing",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PindahPklListResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - Pembimbing access only"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pindah-pkl/{id}": {
      "get": {
        "tags": [
          "Pindah PKL"
        ],
        "summary": "Get pindah PKL detail handler (authenticated)",
        "description": "Returns detailed information about a specific pindah PKL request,\nincluding history. Accessible by all authenticated users.",
        "operationId": "get_detail_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Pindah PKL ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Pindah PKL detail found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PindahPklDetailResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "404": {
            "description": "Pindah PKL not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pindah-pkl/{id}/kaprog": {
      "patch": {
        "tags": [
          "Pindah PKL"
        ],
        "summary": "Decide pindah PKL by kaprog handler (kaprog only)",
        "description": "Approves or rejects a pindah PKL request at Kaprog level.\nIf approved, moves to Koordinator level. If rejected, returns quota to target industry.",
        "operationId": "decide_kaprog_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Pindah PKL ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PindahPklDecideRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Decision recorded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PindahPklResponse"
                }
              }
            }
          },
          "400": {
            "description": "Validation error - invalid status"
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - Kaprog access only"
          },
          "404": {
            "description": "Pindah PKL not found"
          },
          "409": {
            "description": "Conflict - request not in pending kaprog status"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pindah-pkl/{id}/koordinator": {
      "patch": {
        "tags": [
          "Pindah PKL"
        ],
        "summary": "Final decide pindah PKL by koordinator handler (koordinator only)",
        "description": "Final approval or rejection of pindah PKL request.\nIf approved, updates student's PKL to new industry and returns quota to old industry.\nIf rejected, returns quota to target industry.",
        "operationId": "decide_koordinator_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Pindah PKL ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PindahPklFinalApproveRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Final decision recorded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PindahPklResponse"
                }
              }
            }
          },
          "400": {
            "description": "Validation error - tanggal_efektif required for approval"
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - Koordinator access only"
          },
          "404": {
            "description": "Pindah PKL not found"
          },
          "409": {
            "description": "Conflict - request not in pending koordinator status"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pindah-pkl/{id}/pembimbing": {
      "patch": {
        "tags": [
          "Pindah PKL"
        ],
        "summary": "Decide pindah PKL by pembimbing handler (pembimbing only)",
        "description": "Approves or rejects a pending pindah PKL request at pembimbing level.\nIf approved, moves to Kaprog level. If rejected, returns quota to target industry.",
        "operationId": "decide_pembimbing_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Pindah PKL ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PindahPklDecideRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Decision recorded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PindahPklResponse"
                }
              }
            }
          },
          "400": {
            "description": "Validation error - invalid status or missing note for rejection"
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - Pembimbing access only"
          },
          "404": {
            "description": "Pindah PKL not found"
          },
          "409": {
            "description": "Conflict - request not in pending pembimbing status"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/active/me": {
      "get": {
        "tags": [
          "Siswa"
        ],
        "operationId": "get_active_pkl_handler",
        "responses": {
          "200": {
            "description": "PKL aktif",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "$ref": "#/components/schemas/PklDto"
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/applications": {
      "get": {
        "tags": [
          "Kaprog"
        ],
        "summary": "List PKL applications for admin/kaprog review",
        "operationId": "list_review_pkl_applications_handler",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/PklStatus"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "siswa_username",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "industri_name",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Daftar permohonan PKL",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListPklApplicationReviewDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Siswa"
        ],
        "operationId": "create_pkl_application_handler",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePklApplicationDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Permohonan PKL dibuat",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PklApplicationDto"
                }
              }
            }
          },
          "400": {
            "description": "Validasi gagal"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/applications/me": {
      "get": {
        "tags": [
          "Siswa"
        ],
        "operationId": "list_my_pkl_applications_handler",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Daftar permohonan",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListPklApplicationDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/applications/{id}/approve": {
      "put": {
        "tags": [
          "Kaprog"
        ],
        "operationId": "approve_pkl_application_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID permohonan",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApprovePklApplicationDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Permohonan disetujui",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PklApplicationDto"
                }
              }
            }
          },
          "403": {
            "description": "Tidak memiliki akses"
          },
          "409": {
            "description": "Kuota penuh"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/applications/{id}/reject": {
      "put": {
        "tags": [
          "Kaprog"
        ],
        "operationId": "reject_pkl_application_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID permohonan",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RejectPklApplicationDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Permohonan ditolak",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PklApplicationDto"
                }
              }
            }
          },
          "403": {
            "description": "Tidak memiliki akses"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/group": {
      "post": {
        "tags": [
          "PKL Group"
        ],
        "summary": "Create a new PKL group (siswa only)",
        "description": "Creates a new group application for PKL. The authenticated student becomes the group leader.\nSends invitations to the specified members.",
        "operationId": "create_group",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateGroupRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Group created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GroupApplicationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request - validation error"
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - only siswa can create groups"
          },
          "409": {
            "description": "Conflict - already has pending group or member already in group"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/group/available-members": {
      "get": {
        "tags": [
          "PKL Group"
        ],
        "summary": "Search available members (siswa only)",
        "description": "Returns a list of students who are available to be invited to a group.\nExcludes students who are already in a pending or approved group.",
        "operationId": "search_available_members",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "description": "Optional search query (name or NISN)",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of available members retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AvailableMemberResponse"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - only siswa can access"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/group/invitations": {
      "get": {
        "tags": [
          "PKL Group"
        ],
        "summary": "Get my invitations (siswa only)",
        "description": "Returns all pending group invitations for the authenticated student.",
        "operationId": "get_my_invitations",
        "responses": {
          "200": {
            "description": "List of invitations retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GroupInvitationResponse"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - only siswa can access"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/group/invitations/{id}": {
      "post": {
        "tags": [
          "PKL Group"
        ],
        "summary": "Respond to invitation (siswa only)",
        "description": "Accepts or rejects a group invitation.\nOnly the invited student can respond to their own invitations.",
        "operationId": "respond_to_invitation",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Group Member ID (invitation ID)",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RespondInvitationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Response recorded successfully"
          },
          "400": {
            "description": "Invalid request - validation error"
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - only the invited student can respond"
          },
          "404": {
            "description": "Invitation not found"
          },
          "409": {
            "description": "Conflict - invitation already responded or group no longer available"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/group/my": {
      "get": {
        "tags": [
          "PKL Group"
        ],
        "summary": "Get my groups (siswa only)",
        "description": "Returns all groups where the authenticated student is a member (as leader or invitee).",
        "operationId": "get_my_groups",
        "responses": {
          "200": {
            "description": "List of groups retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GroupApplicationResponse"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - only siswa can access"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/group/review": {
      "get": {
        "tags": [
          "PKL Group"
        ],
        "summary": "Get groups for review (kaprog only)",
        "description": "Returns all group applications pending kaprog review.",
        "operationId": "get_groups_for_review",
        "responses": {
          "200": {
            "description": "List of groups retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GroupApplicationResponse"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - only kaprog can access"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/group/review/{id}/approve": {
      "post": {
        "tags": [
          "PKL Group"
        ],
        "summary": "Approve group (kaprog only)",
        "description": "Approves a submitted group application.\nCreates PKL placements for all group members at the selected industry.",
        "operationId": "approve_group",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Group ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApproveGroupRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Group approved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GroupApplicationResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - only kaprog can approve"
          },
          "404": {
            "description": "Group not found"
          },
          "409": {
            "description": "Conflict - group not in SUBMITTED status or industry quota exceeded"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/group/review/{id}/reject": {
      "post": {
        "tags": [
          "PKL Group"
        ],
        "summary": "Reject group (kaprog only)",
        "description": "Rejects a submitted group application with a reason.\nReturns the group to DRAFT status with the rejection reason.",
        "operationId": "reject_group",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Group ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RejectGroupRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Group rejected successfully"
          },
          "400": {
            "description": "Invalid request - rejection reason required"
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - only kaprog can reject"
          },
          "404": {
            "description": "Group not found"
          },
          "409": {
            "description": "Conflict - group not in SUBMITTED status"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/group/{id}": {
      "get": {
        "tags": [
          "PKL Group"
        ],
        "summary": "Get group detail (authenticated)",
        "description": "Returns detailed information about a specific group application.\nAccessible by group members and kaprog.",
        "operationId": "get_group_detail",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Group ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Group detail retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GroupApplicationResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - not a member of this group"
          },
          "404": {
            "description": "Group not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "delete": {
        "tags": [
          "PKL Group"
        ],
        "summary": "Delete group (leader only)",
        "description": "Deletes a group application.\nOnly the group leader can delete, and only when the group is in DRAFT status.",
        "operationId": "delete_group",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Group ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Group deleted successfully"
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - only group leader can delete"
          },
          "404": {
            "description": "Group not found"
          },
          "409": {
            "description": "Conflict - group not in DRAFT status"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/group/{id}/members": {
      "put": {
        "tags": [
          "PKL Group"
        ],
        "summary": "Update group members (leader only)",
        "description": "Updates the list of invited members for a draft group.\nOnly the group leader can update members, and only when the group is in DRAFT status.",
        "operationId": "update_group_members",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Group ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateGroupMembersRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Group members updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GroupApplicationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request - validation error"
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - only group leader can update members"
          },
          "404": {
            "description": "Group not found"
          },
          "409": {
            "description": "Conflict - group not in DRAFT status"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/group/{id}/members/{siswa_id}": {
      "delete": {
        "tags": [
          "PKL Group"
        ],
        "summary": "Remove a member from group (leader only)",
        "description": "Removes a specific member from the group.\nOnly the group leader can remove members, and only when the group is in DRAFT status.",
        "operationId": "remove_member",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Group ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "siswa_id",
            "in": "path",
            "description": "Siswa ID to remove",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Member removed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GroupApplicationResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - only group leader can remove members"
          },
          "404": {
            "description": "Group or member not found"
          },
          "409": {
            "description": "Conflict - group not in DRAFT status"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/group/{id}/submit": {
      "post": {
        "tags": [
          "PKL Group"
        ],
        "summary": "Submit group application (leader only)",
        "description": "Submits the group application for kaprog review.\nOnly the group leader can submit, and only when all members have accepted invitations.",
        "operationId": "submit_group",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Group ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SubmitGroupRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Group submitted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GroupApplicationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request - validation error or not all members accepted"
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - only group leader can submit"
          },
          "404": {
            "description": "Group not found"
          },
          "409": {
            "description": "Conflict - group not in DRAFT status or industry quota exceeded"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/group/{id}/withdraw": {
      "post": {
        "tags": [
          "PKL Group"
        ],
        "summary": "Withdraw group application (leader only)",
        "description": "Withdraws a submitted group application back to DRAFT status.\nOnly the group leader can withdraw, and only when the group is in SUBMITTED status.",
        "operationId": "withdraw_group",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Group ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Group withdrawn successfully"
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - only group leader can withdraw"
          },
          "404": {
            "description": "Group not found"
          },
          "409": {
            "description": "Conflict - group not in SUBMITTED status"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/guru/industri": {
      "get": {
        "tags": [
          "Pembimbing"
        ],
        "operationId": "list_industri_by_guru_handler",
        "responses": {
          "200": {
            "description": "**DEPRECATED**: Use /api/pkl/guru/tasks instead. List industri yang dibimbing oleh guru",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListGuruIndustriDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Guru only"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/guru/siswa": {
      "get": {
        "tags": [
          "Pembimbing"
        ],
        "operationId": "list_siswa_by_guru_handler",
        "responses": {
          "200": {
            "description": "**DEPRECATED**: Use /api/pkl/guru/tasks instead. List siswa yang dibimbing oleh guru",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListGuruSiswaDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Guru only"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/guru/tasks": {
      "get": {
        "tags": [
          "Pembimbing"
        ],
        "operationId": "list_guru_tasks_handler",
        "responses": {
          "200": {
            "description": "Guru tasks retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GuruTasksResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Guru only"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/industri/available": {
      "get": {
        "tags": [
          "Siswa"
        ],
        "operationId": "list_available_industries_handler",
        "parameters": [
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Daftar industri tersedia untuk siswa",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SiswaIndustryPreviewDto"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/industri/preview": {
      "get": {
        "tags": [
          "Kaprog"
        ],
        "operationId": "preview_industri_handler",
        "parameters": [
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Preview industri",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListIndustryPreviewDto"
                }
              }
            }
          },
          "403": {
            "description": "Tidak memiliki akses"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/industri/{id}": {
      "get": {
        "tags": [
          "Siswa"
        ],
        "operationId": "get_industry_detail_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID industri",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Detail industri",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SiswaIndustryDetailDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Salah jurusan"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/industri/{id}/quota": {
      "put": {
        "tags": [
          "Kaprog"
        ],
        "operationId": "update_industry_quota_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID industri",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateIndustryQuotaDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Kuota industri diperbarui",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IndustryQuotaDto"
                }
              }
            }
          },
          "403": {
            "description": "Tidak memiliki akses"
          },
          "404": {
            "description": "Industri tidak ditemukan"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/koordinator/approved": {
      "get": {
        "tags": [
          "Koordinator"
        ],
        "summary": "List approved PKL applications for koordinator",
        "operationId": "list_approved_pkl_for_koordinator_handler",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "jurusan_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "kelas_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "industri_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Daftar PKL approved untuk koordinator",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KoordinatorApprovedPklListDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Koordinator only"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/pembimbing": {
      "get": {
        "tags": [
          "Kaprog"
        ],
        "summary": "List guru pembimbing PKL",
        "operationId": "list_pembimbing_guru_handler",
        "parameters": [
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Daftar guru pembimbing",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PembimbingGuruDto"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/{id}/dokumen": {
      "post": {
        "tags": [
          "Siswa"
        ],
        "summary": "Upload dokumen handler (siswa only - multipart/form-data)",
        "description": "Uploads signed documents for an approved PKL application.\nRequires siswa authentication and ownership of the application.\nOnly applications with \"approved\" status can have documents uploaded.\n\n**Request Body (multipart/form-data):**\n| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| files | file[] | Yes | 1-3 images (JPEG/PNG/WebP, max 5MB each), field name = \"files\" |\n\n**Example using cURL:**\n```bash\ncurl -X POST 'http://localhost:8001/api/pkl/123/dokumen' \\\n  -H 'Authorization: Bearer YOUR_TOKEN' \\\n  -F 'files=@dokumen1.jpg' \\\n  -F 'files=@dokumen2.jpg'\n```",
        "operationId": "upload_dokumen_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID aplikasi PKL",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "description": "Multipart form data with file uploads",
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "integer",
                  "format": "int32",
                  "minimum": 0
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Dokumen berhasil diupload",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PklApplicationDto"
                }
              }
            }
          },
          "400": {
            "description": "Validasi gagal - file tidak valid atau status bukan approved"
          },
          "401": {
            "description": "Unauthorized - invalid or expired JWT token"
          },
          "403": {
            "description": "Forbidden - hanya siswa pemilik aplikasi yang dapat upload"
          },
          "404": {
            "description": "Aplikasi PKL tidak ditemukan"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/pkl/{id}/generate-surat": {
      "post": {
        "tags": [
          "Kaprog"
        ],
        "summary": "Generate surat permohonan PDF",
        "description": "Generate surat permohonan PKL PDF via external API.\nOnly kaprog can access this endpoint.\nThe kaprog must belong to the same jurusan as the siswa.",
        "operationId": "generate_surat_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID aplikasi PKL",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Surat berhasil digenerate",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PdfResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - hanya kaprog untuk jurusan yang sama"
          },
          "404": {
            "description": "Aplikasi PKL atau data terkait tidak ditemukan"
          },
          "502": {
            "description": "External service error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/realisasi-kegiatan/me": {
      "get": {
        "tags": [
          "Pembimbing"
        ],
        "summary": "List my submitted realisasi",
        "description": "Get all realisasi submitted by the logged-in pembimbing. Returns ONLY submitted realizations, not the kegiatan schedule. Filter by industri_id and/or date range. Requires is_pembimbing=true.",
        "operationId": "list_my_realisasi_kegiatan",
        "parameters": [
          {
            "name": "industri_id",
            "in": "query",
            "description": "Filter by industri ID (optional)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "tanggal_mulai",
            "in": "query",
            "description": "Filter by tanggal realisasi mulai (optional, inclusive)",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "tanggal_selesai",
            "in": "query",
            "description": "Filter by tanggal realisasi selesai (optional, inclusive)",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of user's realizations",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RealisasiKegiatanDto"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Only Guru can access"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/realisasi-kegiatan/submit": {
      "post": {
        "tags": [
          "Pembimbing"
        ],
        "summary": "Submit realisasi kegiatan",
        "description": "Submit a new realisasi for a kegiatan PKL. pembimbing_id is automatically resolved from JWT token. Status is automatically set to 'Sudah'. Each pembimbing submits one realisasi per kegiatan+industri combination. Requires is_pembimbing=true.",
        "operationId": "submit_realisasi_kegiatan",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRealisasiKegiatanDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Realisasi submitted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RealisasiKegiatanDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Only Guru can submit"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/realisasi-kegiatan/{id}": {
      "get": {
        "tags": [
          "Pembimbing"
        ],
        "summary": "Get realisasi detail by ID",
        "description": "Get detailed information about a specific realisasi by ID. Accessible by all authenticated users.",
        "operationId": "get_realisasi_kegiatan_by_id",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Realisasi ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Realisasi found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RealisasiKegiatanDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Realisasi not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "put": {
        "tags": [
          "Pembimbing"
        ],
        "summary": "Update realisasi foto",
        "description": "Update foto bukti on existing realisasi. Only the pembimbing who created the realisasi can update it.",
        "operationId": "update_realisasi_foto",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Realisasi ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateRealisasiFotoDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Foto updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RealisasiKegiatanDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input - foto URLs cannot be empty"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Only the owner can update"
          },
          "404": {
            "description": "Realisasi not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/sekolah": {
      "get": {
        "tags": [
          "Sekolah"
        ],
        "summary": "Get active sekolah (all roles)",
        "operationId": "get_active_sekolah_handler",
        "responses": {
          "200": {
            "description": "Sekolah retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SekolahSingleResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Sekolah not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Sekolah"
        ],
        "summary": "Create a new sekolah (admin only)",
        "operationId": "create_sekolah_handler",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSekolahDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Sekolah created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SekolahSingleResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin only"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/sekolah/{id}": {
      "get": {
        "tags": [
          "Sekolah"
        ],
        "summary": "Get sekolah by ID (all roles)",
        "operationId": "get_sekolah_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Sekolah ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Sekolah retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SekolahSingleResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Sekolah not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "put": {
        "tags": [
          "Sekolah"
        ],
        "summary": "Update sekolah (admin only)",
        "operationId": "update_sekolah_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Sekolah ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateSekolahDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Sekolah updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SekolahSingleResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin only"
          },
          "404": {
            "description": "Sekolah not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/siswa": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "list all siswa with search options",
        "operationId": "list_siswa_handler",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Page number",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Items per page (max: 100)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Search term",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "kelas_id",
            "in": "query",
            "description": "Filter by kelas ID",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "jurusan_id",
            "in": "query",
            "description": "Filter by jurusan ID",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Siswa list retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListSiswaDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "Add new siswa",
        "operationId": "create_siswa_handler",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSiswaDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Siswa created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SiswaDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/siswa/bulk/import": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "Bulk import handler - import valid rows from preview session",
        "operationId": "bulk_import_handler",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkImportRequestDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Import successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkImportResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Import error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/siswa/bulk/preview": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "Bulk preview handler - upload and validate Excel file",
        "operationId": "bulk_preview_handler",
        "requestBody": {
          "description": "Excel file upload",
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/BulkUploadRequestDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Preview generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkPreviewResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Validation error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/siswa/{id}": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "get siswa by id",
        "operationId": "get_siswa_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Siswa ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Siswa retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SiswaDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Siswa not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "put": {
        "tags": [
          "Admin"
        ],
        "summary": "update siswa with id",
        "operationId": "update_siswa_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Siswa ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateSiswaDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Siswa updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SiswaDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Siswa not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Admin"
        ],
        "summary": "delete siswa by id",
        "operationId": "delete_siswa_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Siswa ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Siswa deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Siswa not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/student-issues": {
      "post": {
        "tags": [
          "Student Issues"
        ],
        "summary": "Create student issue (pembimbing only)",
        "operationId": "create_student_issue_handler",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StudentIssueCreateReqDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Student issue created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StudentIssueItemDto"
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/student-issues/me": {
      "get": {
        "tags": [
          "Student Issues"
        ],
        "summary": "List my student issues (pembimbing only)",
        "operationId": "list_my_student_issues_handler",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List my student issues",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StudentIssueListResDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/student-issues/wali-kelas": {
      "get": {
        "tags": [
          "Student Issues"
        ],
        "summary": "List student issues for wali kelas class (wali kelas read-only)",
        "operationId": "list_wali_kelas_student_issues_handler",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List student issues for wali kelas class",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StudentIssueListResDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/student-issues/{id}": {
      "get": {
        "tags": [
          "Student Issues"
        ],
        "summary": "Get student issue detail by id",
        "operationId": "get_student_issue_detail_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Student issue ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Student issue detail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StudentIssueItemDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "patch": {
        "tags": [
          "Student Issues"
        ],
        "summary": "Update student issue (pembimbing only)",
        "operationId": "update_student_issue_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Student issue ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StudentIssueUpdateReqDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Student issue updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StudentIssueItemDto"
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/tahun-ajaran": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "List all tahun ajaran",
        "operationId": "list_tahun_ajaran",
        "responses": {
          "200": {
            "description": "Tahun ajaran list retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListTahunAjaranDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "Create a new tahun ajaran",
        "operationId": "create_tahun_ajaran",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTahunAjaranDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Tahun ajaran created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TahunAjaranDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/tahun-ajaran/active": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "Get the active tahun ajaran",
        "operationId": "get_active_tahun_ajaran",
        "responses": {
          "200": {
            "description": "Active tahun ajaran retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TahunAjaranDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Active tahun ajaran not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/tahun-ajaran/{id}": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "Get a tahun ajaran by ID",
        "operationId": "get_tahun_ajaran",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Tahun ajaran ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tahun ajaran retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TahunAjaranDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Tahun ajaran not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "put": {
        "tags": [
          "Admin"
        ],
        "summary": "Update a tahun ajaran",
        "operationId": "update_tahun_ajaran",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Tahun ajaran ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTahunAjaranDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Tahun ajaran updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TahunAjaranDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Tahun ajaran not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Admin"
        ],
        "summary": "Delete a tahun ajaran",
        "operationId": "delete_tahun_ajaran",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Tahun ajaran ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Tahun ajaran deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Tahun ajaran not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/tahun-ajaran/{id}/activate": {
      "put": {
        "tags": [
          "Admin"
        ],
        "summary": "Activate a tahun ajaran",
        "operationId": "activate_tahun_ajaran",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Tahun ajaran ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tahun ajaran activated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TahunAjaranDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Tahun ajaran not found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/upload/image": {
      "post": {
        "tags": [
          "Upload"
        ],
        "summary": "Simple file upload handler",
        "description": "# Memory Safety\n- Enforces max file size (5MB default)\n- Limits concurrent uploads with semaphore\n- Validates MIME type (JPEG/PNG only)\n- Times out after 60 seconds\n- Uploads original file without compression\n\n# Usage\n```bash\ncurl -X POST http://localhost:8001/api/upload/image \\\n  -H \"Content-Type: image/jpeg\" \\\n  --data-binary @photo.jpg\n```",
        "operationId": "upload_image_handler",
        "requestBody": {
          "description": "Raw image bytes (JPEG or PNG, max 5MB)",
          "content": {
            "image/*": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "integer",
                  "format": "int32",
                  "minimum": 0
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Image uploaded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid file type or size"
          },
          "429": {
            "description": "Too many concurrent uploads"
          },
          "503": {
            "description": "Upload timeout"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/upload/images": {
      "post": {
        "tags": [
          "Upload"
        ],
        "summary": "Bulk image upload handler using multipart/form-data",
        "description": "# Features\n- Accepts multiple image files in a single request\n- Supports partial failures (some files succeed, some fail)\n- Enforces file count and total size limits\n- Validates MIME type for each file\n- Uploads original files without compression\n- Returns detailed results for each file\n\n# Usage\n```bash\ncurl -X POST http://localhost:8001/api/upload/images \\\n  -H \"Authorization: Bearer {token}\" \\\n  -F \"files=@photo1.jpg\" \\\n  -F \"files=@photo2.jpg\" \\\n  -F \"files=@photo3.png\"\n```",
        "operationId": "upload_images_bulk_handler",
        "requestBody": {
          "description": "Multiple image files (JPEG/PNG, max 10 files, 25MB total) via multipart/form-data with field name 'files'",
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "string"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Bulk upload completed (partial success possible)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkUploadResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid multipart data, file count exceeded, or total size exceeded"
          },
          "429": {
            "description": "Too many concurrent uploads"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/auth/guru/login": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Guru login (Kode guru +  password)",
        "operationId": "guru_login_handler",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GuruLoginReqDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Guru login successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GuruLoginResDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Invalid credentials"
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Admin Login",
        "operationId": "login_handler",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginReqDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Login successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Invalid credentials"
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Logout",
        "operationId": "logout_handler",
        "responses": {
          "200": {
            "description": "Logout successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResDto"
                }
              }
            }
          },
          "401": {
            "description": "Invalid token"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/auth/refresh": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Refresh token",
        "operationId": "refresh_token_handler",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshReqDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Token refreshed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Invalid refresh token"
          }
        }
      }
    },
    "/auth/siswa/login": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Siswa login (Nama Lengkap + NISN)",
        "operationId": "siswa_login_handler",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SiswaLoginReqDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Siswa login successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SiswaLoginResDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Invalid credentials"
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Health check",
        "operationId": "health_check_handler",
        "responses": {
          "200": {
            "description": "Service is healthy",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AdminLoginReqDto": {
        "type": "object",
        "description": "Admin login request DTO",
        "required": [
          "username",
          "password"
        ],
        "properties": {
          "password": {
            "type": "string"
          },
          "username": {
            "type": "string"
          }
        }
      },
      "AdminLoginResDto": {
        "type": "object",
        "description": "Admin login response DTO (sesuai format yang diminta)",
        "required": [
          "access_token",
          "refresh_token",
          "user"
        ],
        "properties": {
          "access_token": {
            "type": "string"
          },
          "refresh_token": {
            "type": "string"
          },
          "user": {
            "$ref": "#/components/schemas/AdminUserDto"
          }
        }
      },
      "AdminUserDto": {
        "type": "object",
        "description": "Admin user info dalam response",
        "required": [
          "id",
          "username",
          "role",
          "is_active"
        ],
        "properties": {
          "email": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "is_active": {
            "type": "boolean"
          },
          "role": {
            "type": "string"
          },
          "username": {
            "type": "string"
          }
        }
      },
      "ApproveGroupRequest": {
        "type": "object",
        "required": [
          "pembimbing_guru_id"
        ],
        "properties": {
          "pembimbing_guru_id": {
            "type": "integer",
            "format": "int64",
            "example": 1
          }
        }
      },
      "ApprovePklApplicationDto": {
        "type": "object",
        "required": [
          "tanggal_mulai",
          "tanggal_selesai",
          "pembimbing_guru_id"
        ],
        "properties": {
          "catatan": {
            "type": [
              "string",
              "null"
            ]
          },
          "pembimbing_guru_id": {
            "type": "integer",
            "format": "int64"
          },
          "tanggal_mulai": {
            "type": "string",
            "format": "date"
          },
          "tanggal_selesai": {
            "type": "string",
            "format": "date"
          }
        }
      },
      "AvailableMemberResponse": {
        "type": "object",
        "required": [
          "id",
          "nama",
          "nisn",
          "kelas"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "kelas": {
            "type": "string"
          },
          "nama": {
            "type": "string"
          },
          "nisn": {
            "type": "string"
          }
        }
      },
      "BulkErrorResponseDto": {
        "type": "object",
        "description": "Error response for bulk operations",
        "required": [
          "success",
          "error",
          "error_code"
        ],
        "properties": {
          "error": {
            "type": "string"
          },
          "error_code": {
            "type": "string"
          },
          "success": {
            "type": "boolean"
          }
        }
      },
      "BulkImportRequestDto": {
        "type": "object",
        "description": "Import request - sent to confirm import",
        "required": [
          "session_id"
        ],
        "properties": {
          "session_id": {
            "type": "string"
          }
        }
      },
      "BulkImportResponseDto": {
        "type": "object",
        "description": "Import response - returned after successful import",
        "required": [
          "success",
          "message",
          "imported_count",
          "imported_rows"
        ],
        "properties": {
          "imported_count": {
            "type": "integer",
            "minimum": 0
          },
          "imported_rows": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BulkImportedSiswaDto"
            }
          },
          "message": {
            "type": "string"
          },
          "success": {
            "type": "boolean"
          }
        }
      },
      "BulkImportedSiswaDto": {
        "type": "object",
        "description": "Imported siswa info",
        "required": [
          "id",
          "nama_lengkap",
          "nisn",
          "kelas_id"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "kelas_id": {
            "type": "integer",
            "format": "int64"
          },
          "nama_lengkap": {
            "type": "string"
          },
          "nisn": {
            "type": "string"
          }
        }
      },
      "BulkPreviewResponseDto": {
        "type": "object",
        "description": "Preview response - returned after upload and validation",
        "required": [
          "success",
          "session_id",
          "expires_at",
          "summary",
          "valid_rows",
          "error_rows"
        ],
        "properties": {
          "error_rows": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BulkSiswaErrorDto"
            }
          },
          "expires_at": {
            "type": "string",
            "format": "date-time"
          },
          "session_id": {
            "type": "string"
          },
          "success": {
            "type": "boolean"
          },
          "summary": {
            "$ref": "#/components/schemas/BulkPreviewSummaryDto"
          },
          "valid_rows": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BulkSiswaRowDto"
            }
          }
        }
      },
      "BulkPreviewSummaryDto": {
        "type": "object",
        "description": "Summary of preview results",
        "required": [
          "total_rows",
          "valid_count",
          "error_count"
        ],
        "properties": {
          "error_count": {
            "type": "integer",
            "minimum": 0
          },
          "total_rows": {
            "type": "integer",
            "minimum": 0
          },
          "valid_count": {
            "type": "integer",
            "minimum": 0
          }
        }
      },
      "BulkSiswaErrorDto": {
        "type": "object",
        "description": "Error detail for a single row",
        "required": [
          "row_number",
          "data",
          "errors"
        ],
        "properties": {
          "data": {
            "$ref": "#/components/schemas/BulkSiswaRowDto"
          },
          "errors": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "row_number": {
            "type": "integer",
            "minimum": 0
          }
        }
      },
      "BulkSiswaRowDto": {
        "type": "object",
        "description": "Row data parsed from Excel",
        "required": [
          "row_number",
          "nama_lengkap",
          "nisn",
          "kelas"
        ],
        "properties": {
          "alamat": {
            "type": [
              "string",
              "null"
            ]
          },
          "kelas": {
            "type": "string"
          },
          "kelas_id": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          },
          "nama_lengkap": {
            "type": "string"
          },
          "nisn": {
            "type": "string"
          },
          "no_telp": {
            "type": [
              "string",
              "null"
            ]
          },
          "row_number": {
            "type": "integer",
            "minimum": 0
          },
          "tanggal_lahir": {
            "type": [
              "string",
              "null"
            ],
            "format": "date"
          }
        }
      },
      "BulkUploadItemResult": {
        "type": "object",
        "description": "Individual file upload result for bulk upload",
        "required": [
          "filename",
          "success"
        ],
        "properties": {
          "error": {
            "type": [
              "string",
              "null"
            ],
            "description": "Error message (if failed)"
          },
          "filename": {
            "type": "string",
            "description": "Original filename"
          },
          "success": {
            "type": "boolean",
            "description": "Upload success status"
          },
          "url": {
            "type": [
              "string",
              "null"
            ],
            "description": "Public URL of uploaded file (if successful)"
          }
        }
      },
      "BulkUploadRequestDto": {
        "type": "object",
        "description": "Multipart upload request for Swagger documentation",
        "required": [
          "file"
        ],
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "description": "Excel file (.xlsx or .xls)"
          }
        }
      },
      "BulkUploadResponse": {
        "type": "object",
        "description": "Bulk upload response with partial failure support",
        "required": [
          "successful_count",
          "failed_count",
          "results",
          "success"
        ],
        "properties": {
          "failed_count": {
            "type": "integer",
            "description": "Number of files that failed",
            "minimum": 0
          },
          "results": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BulkUploadItemResult"
            },
            "description": "Detailed results for each file"
          },
          "success": {
            "type": "boolean",
            "description": "Overall request status (true if at least one succeeded)"
          },
          "successful_count": {
            "type": "integer",
            "description": "Number of files successfully uploaded",
            "minimum": 0
          }
        }
      },
      "ChangePwdReqDto": {
        "type": "object",
        "description": "Change password request DTO",
        "required": [
          "old_pwd",
          "new_pwd"
        ],
        "properties": {
          "new_pwd": {
            "type": "string"
          },
          "old_pwd": {
            "type": "string"
          }
        }
      },
      "CreateGroupRequest": {
        "type": "object",
        "required": [
          "invited_members"
        ],
        "properties": {
          "invited_members": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": [
              "budi123",
              "citra456"
            ]
          }
        }
      },
      "CreateGuruDto": {
        "type": "object",
        "required": [
          "kode_guru",
          "password",
          "nip",
          "nama"
        ],
        "properties": {
          "is_kaprog": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "is_koordinator": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "is_pembimbing": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "is_wali_kelas": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "kode_guru": {
            "type": "string"
          },
          "nama": {
            "type": "string"
          },
          "nip": {
            "type": "string"
          },
          "no_telp": {
            "type": [
              "string",
              "null"
            ]
          },
          "password": {
            "type": "string"
          }
        }
      },
      "CreateIndustriDto": {
        "type": "object",
        "description": "DTO for creating a new industri",
        "required": [
          "jurusan_id",
          "nama",
          "alamat"
        ],
        "properties": {
          "alamat": {
            "type": "string"
          },
          "bidang": {
            "type": [
              "string",
              "null"
            ]
          },
          "email": {
            "type": [
              "string",
              "null"
            ]
          },
          "jurusan_id": {
            "type": "integer",
            "format": "int64"
          },
          "nama": {
            "type": "string"
          },
          "no_telp": {
            "type": [
              "string",
              "null"
            ]
          },
          "pic": {
            "type": [
              "string",
              "null"
            ]
          },
          "pic_telp": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "CreateJurusanDto": {
        "type": "object",
        "description": "DTO for creating a new jurusan",
        "required": [
          "kode",
          "nama"
        ],
        "properties": {
          "kaprog_guru_id": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          },
          "kode": {
            "type": "string"
          },
          "nama": {
            "type": "string"
          }
        }
      },
      "CreateKegiatanPklDto": {
        "type": "object",
        "required": [
          "tahun_ajaran_id",
          "jenis_kegiatan",
          "tanggal_mulai",
          "tanggal_selesai"
        ],
        "properties": {
          "deskripsi": {
            "type": [
              "string",
              "null"
            ]
          },
          "jenis_kegiatan": {
            "$ref": "#/components/schemas/JenisKegiatanPkl"
          },
          "tahun_ajaran_id": {
            "type": "integer",
            "format": "int64"
          },
          "tanggal_mulai": {
            "type": "string",
            "format": "date"
          },
          "tanggal_selesai": {
            "type": "string",
            "format": "date"
          }
        }
      },
      "CreateKelasDto": {
        "type": "object",
        "description": "DTO for creating a new kelas",
        "required": [
          "jurusan_id",
          "nama"
        ],
        "properties": {
          "jurusan_id": {
            "type": "integer",
            "format": "int64"
          },
          "nama": {
            "type": "string"
          },
          "wali_kelas_guru_id": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          }
        }
      },
      "CreatePklApplicationDto": {
        "type": "object",
        "required": [
          "industri_id"
        ],
        "properties": {
          "catatan": {
            "type": [
              "string",
              "null"
            ]
          },
          "industri_id": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "CreateRealisasiKegiatanDto": {
        "type": "object",
        "required": [
          "kegiatan_id",
          "industri_id",
          "bukti_foto_urls"
        ],
        "properties": {
          "bukti_foto_urls": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": [
              "https://url1.com",
              "https://url2.com"
            ]
          },
          "catatan": {
            "type": [
              "string",
              "null"
            ]
          },
          "industri_id": {
            "type": "integer",
            "format": "int64"
          },
          "kegiatan_id": {
            "type": "integer",
            "format": "int64"
          },
          "tanggal_realisasi": {
            "type": [
              "string",
              "null"
            ],
            "format": "date"
          }
        }
      },
      "CreateSekolahDto": {
        "type": "object",
        "description": "DTO for creating a new sekolah",
        "required": [
          "npsn",
          "nama_sekolah",
          "nomor_telepon"
        ],
        "properties": {
          "akreditasi": {
            "type": [
              "string",
              "null"
            ]
          },
          "email": {
            "type": [
              "string",
              "null"
            ]
          },
          "jalan": {
            "type": [
              "string",
              "null"
            ]
          },
          "jenis_sekolah": {
            "type": [
              "string",
              "null"
            ]
          },
          "kabupaten_kota": {
            "type": [
              "string",
              "null"
            ]
          },
          "kecamatan": {
            "type": [
              "string",
              "null"
            ]
          },
          "kelurahan": {
            "type": [
              "string",
              "null"
            ]
          },
          "kepala_sekolah": {
            "type": [
              "string",
              "null"
            ]
          },
          "kode_pos": {
            "type": [
              "string",
              "null"
            ]
          },
          "logo": {
            "type": [
              "string",
              "null"
            ]
          },
          "nama_sekolah": {
            "type": "string"
          },
          "nip_kepala_sekolah": {
            "type": [
              "string",
              "null"
            ]
          },
          "nomor_telepon": {
            "type": "string"
          },
          "npsn": {
            "type": "string"
          },
          "provinsi": {
            "type": [
              "string",
              "null"
            ]
          },
          "website": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "CreateSiswaDto": {
        "type": "object",
        "required": [
          "nama_lengkap",
          "nisn",
          "kelas_id"
        ],
        "properties": {
          "alamat": {
            "type": [
              "string",
              "null"
            ]
          },
          "kelas_id": {
            "type": "integer",
            "format": "int64"
          },
          "nama_lengkap": {
            "type": "string"
          },
          "nisn": {
            "type": "string"
          },
          "no_telp": {
            "type": [
              "string",
              "null"
            ]
          },
          "tanggal_lahir": {
            "type": [
              "string",
              "null"
            ],
            "format": "date"
          }
        }
      },
      "CreateTahunAjaranDto": {
        "type": "object",
        "required": [
          "kode",
          "nama",
          "is_active"
        ],
        "properties": {
          "is_active": {
            "type": "boolean"
          },
          "kode": {
            "type": "string"
          },
          "nama": {
            "type": "string"
          }
        }
      },
      "DashboardResponseDto": {
        "type": "object",
        "description": "Standard response wrapper for dashboard",
        "required": [
          "success",
          "data",
          "message"
        ],
        "properties": {
          "data": {
            "$ref": "#/components/schemas/DashboardStatsDto"
          },
          "message": {
            "type": "string"
          },
          "success": {
            "type": "boolean"
          }
        }
      },
      "DashboardStatsDto": {
        "type": "object",
        "description": "Dashboard statistics for admin - simple version",
        "required": [
          "total_users",
          "total_guru",
          "total_siswa",
          "total_jurusan",
          "total_kelas",
          "total_industri",
          "admin_users",
          "guru_users",
          "siswa_users",
          "last_updated"
        ],
        "properties": {
          "admin_users": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "guru_users": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "last_updated": {
            "type": "string",
            "format": "date-time"
          },
          "siswa_users": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "total_guru": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "total_industri": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "total_jurusan": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "total_kelas": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "total_siswa": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "total_users": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "GroupApplicationResponse": {
        "type": "object",
        "required": [
          "id",
          "leader",
          "members",
          "industri",
          "status",
          "member_count",
          "created_at"
        ],
        "properties": {
          "approved_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time"
          },
          "catatan": {
            "type": [
              "string",
              "null"
            ]
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "industri": {
            "$ref": "#/components/schemas/IndustriSummary"
          },
          "leader": {
            "$ref": "#/components/schemas/SiswaSummary"
          },
          "member_count": {
            "type": "integer",
            "format": "int32"
          },
          "members": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GroupMemberResponse"
            }
          },
          "pembimbing": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/PembimbingSummary"
              }
            ]
          },
          "status": {
            "type": "string"
          },
          "submitted_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time"
          },
          "tanggal_mulai": {
            "type": [
              "string",
              "null"
            ],
            "format": "date"
          },
          "tanggal_selesai": {
            "type": [
              "string",
              "null"
            ],
            "format": "date"
          }
        }
      },
      "GroupInvitationResponse": {
        "type": "object",
        "required": [
          "id",
          "group_id",
          "leader",
          "industri",
          "member_count",
          "invited_at"
        ],
        "properties": {
          "group_id": {
            "type": "integer",
            "format": "int64"
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "industri": {
            "$ref": "#/components/schemas/IndustriSummary"
          },
          "invited_at": {
            "type": "string",
            "format": "date-time"
          },
          "leader": {
            "$ref": "#/components/schemas/SiswaSummary"
          },
          "member_count": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "GroupMemberResponse": {
        "type": "object",
        "required": [
          "siswa",
          "is_leader",
          "invitation_status",
          "joined_at"
        ],
        "properties": {
          "invitation_status": {
            "type": "string"
          },
          "is_leader": {
            "type": "boolean"
          },
          "joined_at": {
            "type": "string",
            "format": "date-time"
          },
          "responded_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time"
          },
          "siswa": {
            "$ref": "#/components/schemas/SiswaSummary"
          }
        }
      },
      "GroupNotificationData": {
        "type": "object",
        "description": "Notification payload data for group events",
        "required": [
          "group_id",
          "siswa_id",
          "siswa_nama",
          "status"
        ],
        "properties": {
          "approved_by": {
            "type": [
              "string",
              "null"
            ]
          },
          "group_id": {
            "type": "integer",
            "format": "int64"
          },
          "industri_id": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          },
          "industri_nama": {
            "type": [
              "string",
              "null"
            ]
          },
          "leader_id": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          },
          "leader_nama": {
            "type": [
              "string",
              "null"
            ]
          },
          "reason": {
            "type": [
              "string",
              "null"
            ]
          },
          "siswa_id": {
            "type": "integer",
            "format": "int64"
          },
          "siswa_nama": {
            "type": "string"
          },
          "status": {
            "type": "string"
          }
        }
      },
      "GuruDto": {
        "type": "object",
        "required": [
          "id",
          "user_id",
          "kode_guru",
          "nip",
          "nama",
          "is_koordinator",
          "is_pembimbing",
          "is_wali_kelas",
          "is_kaprog",
          "is_active",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "is_active": {
            "type": "boolean"
          },
          "is_kaprog": {
            "type": "boolean"
          },
          "is_koordinator": {
            "type": "boolean"
          },
          "is_pembimbing": {
            "type": "boolean"
          },
          "is_wali_kelas": {
            "type": "boolean"
          },
          "kode_guru": {
            "type": "string"
          },
          "nama": {
            "type": "string"
          },
          "nip": {
            "type": "string"
          },
          "no_telp": {
            "type": [
              "string",
              "null"
            ]
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          },
          "user_id": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "GuruIndustriDto": {
        "type": "object",
        "description": "DTO for industri yang dibimbing oleh guru",
        "required": [
          "industri_id",
          "industri_nama",
          "jumlah_siswa"
        ],
        "properties": {
          "industri_id": {
            "type": "integer",
            "format": "int64"
          },
          "industri_nama": {
            "type": "string"
          },
          "jumlah_siswa": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "GuruIndustriTaskDto": {
        "type": "object",
        "description": "Industri with its siswa and tasks",
        "required": [
          "industri",
          "siswa_count",
          "siswa",
          "tasks"
        ],
        "properties": {
          "industri": {
            "$ref": "#/components/schemas/IndustriInfoDto"
          },
          "siswa": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GuruTaskSiswaDto"
            }
          },
          "siswa_count": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "tasks": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GuruTaskItemDto"
            }
          }
        }
      },
      "GuruLoginReqDto": {
        "type": "object",
        "required": [
          "kode_guru",
          "password"
        ],
        "properties": {
          "kode_guru": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        }
      },
      "GuruLoginResDto": {
        "type": "object",
        "required": [
          "access_token",
          "refresh_token",
          "token_type",
          "expires_in",
          "expires_at",
          "user"
        ],
        "properties": {
          "access_token": {
            "type": "string"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time"
          },
          "expires_in": {
            "type": "integer",
            "format": "int64"
          },
          "refresh_token": {
            "type": "string"
          },
          "token_type": {
            "type": "string"
          },
          "user": {
            "$ref": "#/components/schemas/GuruUserDto"
          }
        }
      },
      "GuruSiswaDto": {
        "type": "object",
        "description": "DTO for siswa yang dibimbing oleh guru",
        "required": [
          "application_id",
          "siswa_id",
          "siswa_username",
          "siswa_nama",
          "industri_id",
          "industri_nama",
          "status"
        ],
        "properties": {
          "application_id": {
            "type": "integer",
            "format": "int64"
          },
          "industri_id": {
            "type": "integer",
            "format": "int64"
          },
          "industri_nama": {
            "type": "string"
          },
          "siswa_id": {
            "type": "integer",
            "format": "int64"
          },
          "siswa_nama": {
            "type": "string"
          },
          "siswa_username": {
            "type": "string"
          },
          "status": {
            "$ref": "#/components/schemas/PklStatus"
          },
          "tanggal_mulai": {
            "type": [
              "string",
              "null"
            ],
            "format": "date"
          },
          "tanggal_selesai": {
            "type": [
              "string",
              "null"
            ],
            "format": "date"
          }
        }
      },
      "GuruTaskItemDto": {
        "type": "object",
        "description": "Individual task (kegiatan + realisasi)",
        "required": [
          "kegiatan"
        ],
        "properties": {
          "kegiatan": {
            "$ref": "#/components/schemas/GuruTaskKegiatanDto"
          },
          "realisasi": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/GuruTaskRealisasiDto"
              }
            ]
          }
        }
      },
      "GuruTaskKegiatanDto": {
        "type": "object",
        "description": "Kegiatan info with active status",
        "required": [
          "id",
          "jenis",
          "tanggal_mulai",
          "tanggal_selesai",
          "is_active",
          "can_submit"
        ],
        "properties": {
          "can_submit": {
            "type": "boolean"
          },
          "deskripsi": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "is_active": {
            "type": "boolean"
          },
          "jenis": {
            "type": "string"
          },
          "tanggal_mulai": {
            "type": "string"
          },
          "tanggal_selesai": {
            "type": "string"
          }
        }
      },
      "GuruTaskRealisasiDto": {
        "type": "object",
        "description": "Realisasi info for a kegiatan",
        "required": [
          "id",
          "status"
        ],
        "properties": {
          "bukti_foto_urls": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "catatan": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "status": {
            "type": "string"
          },
          "tanggal_realisasi": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "GuruTaskSiswaDto": {
        "type": "object",
        "description": "Individual siswa in industri (without status - always approved)",
        "required": [
          "id",
          "nama",
          "username",
          "nisn",
          "kelas"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "kelas": {
            "type": "string"
          },
          "nama": {
            "type": "string"
          },
          "nisn": {
            "type": "string"
          },
          "username": {
            "type": "string"
          }
        }
      },
      "GuruTasksResponseDto": {
        "type": "object",
        "description": "Main response for guru tasks endpoint",
        "required": [
          "data",
          "summary"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GuruIndustriTaskDto"
            }
          },
          "summary": {
            "$ref": "#/components/schemas/GuruTasksSummaryDto"
          }
        }
      },
      "GuruTasksSummaryDto": {
        "type": "object",
        "description": "Summary stats for all tasks",
        "required": [
          "total_industri",
          "total_tasks",
          "completed_tasks",
          "pending_tasks"
        ],
        "properties": {
          "completed_tasks": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "pending_tasks": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "total_industri": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "total_tasks": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "GuruUserDto": {
        "type": "object",
        "required": [
          "id",
          "kode_guru",
          "nama",
          "nip",
          "role",
          "is_active",
          "is_koordinator",
          "is_pembimbing",
          "is_wali_kelas",
          "is_kaprog"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "is_active": {
            "type": "boolean"
          },
          "is_kaprog": {
            "type": "boolean"
          },
          "is_koordinator": {
            "type": "boolean"
          },
          "is_pembimbing": {
            "type": "boolean"
          },
          "is_wali_kelas": {
            "type": "boolean"
          },
          "kode_guru": {
            "type": "string"
          },
          "nama": {
            "type": "string"
          },
          "nip": {
            "type": "string"
          },
          "no_telp": {
            "type": [
              "string",
              "null"
            ]
          },
          "role": {
            "type": "string"
          }
        }
      },
      "IndustriDto": {
        "type": "object",
        "description": "DTO for industri response",
        "required": [
          "id",
          "jurusan_id",
          "nama",
          "alamat",
          "is_active",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "alamat": {
            "type": "string"
          },
          "bidang": {
            "type": [
              "string",
              "null"
            ]
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "email": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "is_active": {
            "type": "boolean"
          },
          "jurusan_id": {
            "type": "integer",
            "format": "int64"
          },
          "nama": {
            "type": "string"
          },
          "no_telp": {
            "type": [
              "string",
              "null"
            ]
          },
          "pic": {
            "type": [
              "string",
              "null"
            ]
          },
          "pic_telp": {
            "type": [
              "string",
              "null"
            ]
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "IndustriInfoDto": {
        "type": "object",
        "description": "Helper DTO for industri basic info",
        "required": [
          "id",
          "nama"
        ],
        "properties": {
          "alamat": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "jenis_industri": {
            "type": [
              "string",
              "null"
            ]
          },
          "nama": {
            "type": "string"
          }
        }
      },
      "IndustriSummary": {
        "type": "object",
        "required": [
          "id",
          "nama",
          "alamat"
        ],
        "properties": {
          "alamat": {
            "type": "string"
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "nama": {
            "type": "string"
          }
        }
      },
      "IndustryPreviewDto": {
        "type": "object",
        "required": [
          "industri_id",
          "nama",
          "pending_applications",
          "approved_applications",
          "active_students"
        ],
        "properties": {
          "active_students": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "approved_applications": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "industri_id": {
            "type": "integer",
            "format": "int64"
          },
          "kuota_siswa": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32"
          },
          "nama": {
            "type": "string"
          },
          "pending_applications": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "remaining_slots": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32"
          }
        }
      },
      "IndustryQuotaDto": {
        "type": "object",
        "required": [
          "industri_id",
          "jurusan_id"
        ],
        "properties": {
          "industri_id": {
            "type": "integer",
            "format": "int64"
          },
          "jurusan_id": {
            "type": "integer",
            "format": "int64"
          },
          "kuota_siswa": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32"
          }
        }
      },
      "IzinCreateForm": {
        "type": "object",
        "required": [
          "tanggal",
          "jenis",
          "keterangan"
        ],
        "properties": {
          "jenis": {
            "type": "string"
          },
          "keterangan": {
            "type": "string"
          },
          "tanggal": {
            "type": "string",
            "format": "date"
          }
        }
      },
      "IzinCreateMultipart": {
        "type": "object",
        "description": "Multipart form for creating izin with file uploads\nOnly used for Swagger documentation (utoipa schema)",
        "required": [
          "tanggal",
          "jenis",
          "keterangan",
          "files"
        ],
        "properties": {
          "files": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "binary"
            },
            "description": "Upload 1-3 image files (JPEG/PNG, max 5MB each)\nUse field name \"files\" or \"files[]\" for multiple files"
          },
          "jenis": {
            "type": "string"
          },
          "keterangan": {
            "type": "string"
          },
          "tanggal": {
            "type": "string",
            "format": "date"
          }
        }
      },
      "IzinDecideReq": {
        "type": "object",
        "required": [
          "status"
        ],
        "properties": {
          "rejection_reason": {
            "type": [
              "string",
              "null"
            ]
          },
          "status": {
            "type": "string"
          }
        }
      },
      "IzinListQuery": {
        "type": "object",
        "description": "Query parameters for list endpoints",
        "properties": {
          "status": {
            "type": [
              "string",
              "null"
            ],
            "description": "Filter by status: pending, approved, rejected (optional)"
          }
        }
      },
      "IzinNotificationData": {
        "type": "object",
        "description": "Notification payload data for izin events",
        "required": [
          "izin_id",
          "siswa_id",
          "siswa_username",
          "tanggal",
          "jenis",
          "status"
        ],
        "properties": {
          "izin_id": {
            "type": "integer",
            "format": "int64"
          },
          "jenis": {
            "type": "string"
          },
          "rejection_reason": {
            "type": [
              "string",
              "null"
            ]
          },
          "siswa_id": {
            "type": "integer",
            "format": "int64"
          },
          "siswa_username": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "tanggal": {
            "type": "string",
            "format": "date"
          }
        }
      },
      "IzinResponse": {
        "type": "object",
        "required": [
          "id",
          "siswa_id",
          "pembimbing_guru_id",
          "tanggal",
          "jenis",
          "keterangan",
          "bukti_foto_urls",
          "status",
          "created_at"
        ],
        "properties": {
          "bukti_foto_urls": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "decided_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time"
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "jenis": {
            "type": "string"
          },
          "keterangan": {
            "type": "string"
          },
          "pembimbing_guru_id": {
            "type": "integer",
            "format": "int64"
          },
          "rejection_reason": {
            "type": [
              "string",
              "null"
            ]
          },
          "siswa_id": {
            "type": "integer",
            "format": "int64"
          },
          "status": {
            "type": "string"
          },
          "tanggal": {
            "type": "string",
            "format": "date"
          }
        }
      },
      "IzinUpdateMultipart": {
        "type": "object",
        "description": "Multipart form for updating izin with file uploads\nOnly used for Swagger documentation (utoipa schema)",
        "required": [
          "jenis",
          "keterangan",
          "files"
        ],
        "properties": {
          "files": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "binary"
            },
            "description": "Upload 1-3 image files to replace existing photos (JPEG/PNG, max 5MB each)\nUse field name \"files\" or \"files[]\" for multiple files"
          },
          "jenis": {
            "type": "string"
          },
          "keterangan": {
            "type": "string"
          }
        }
      },
      "IzinUpdatePendingForm": {
        "type": "object",
        "required": [
          "jenis",
          "keterangan"
        ],
        "properties": {
          "jenis": {
            "type": "string"
          },
          "keterangan": {
            "type": "string"
          }
        }
      },
      "JenisKegiatanPkl": {
        "type": "string",
        "enum": [
          "Pembekalan",
          "Monitoring1",
          "Monitoring2",
          "Penjemputan"
        ]
      },
      "JurusanDto": {
        "type": "object",
        "description": "DTO for jurusan response",
        "required": [
          "id",
          "kode",
          "nama",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "kaprog_guru_id": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          },
          "kode": {
            "type": "string"
          },
          "nama": {
            "type": "string"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "KaprogDashboardDataDto": {
        "type": "object",
        "required": [
          "summary",
          "pkl_pengajuan_terbaru",
          "pindah_pkl_pengajuan_terbaru"
        ],
        "properties": {
          "pindah_pkl_pengajuan_terbaru": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/KaprogPindahPengajuanListItemDto"
            }
          },
          "pkl_pengajuan_terbaru": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/KaprogPklPengajuanListItemDto"
            }
          },
          "summary": {
            "$ref": "#/components/schemas/KaprogDashboardSummaryDto"
          }
        }
      },
      "KaprogDashboardResponseDto": {
        "type": "object",
        "required": [
          "success",
          "data",
          "message"
        ],
        "properties": {
          "data": {
            "$ref": "#/components/schemas/KaprogDashboardDataDto"
          },
          "message": {
            "type": "string"
          },
          "success": {
            "type": "boolean"
          }
        }
      },
      "KaprogDashboardSummaryDto": {
        "type": "object",
        "required": [
          "total_siswa_pkl",
          "total_pengajuan_pkl_disetujui",
          "total_pengajuan_pkl_menunggu",
          "total_tempat_magang"
        ],
        "properties": {
          "total_pengajuan_pkl_disetujui": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "total_pengajuan_pkl_menunggu": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "total_siswa_pkl": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "total_tempat_magang": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "KaprogPindahPengajuanListItemDto": {
        "type": "object",
        "required": [
          "id",
          "siswa_id",
          "siswa_nama",
          "siswa_nisn",
          "industri_lama_id",
          "industri_lama_nama",
          "industri_baru_id",
          "industri_baru_nama",
          "status",
          "created_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "industri_baru_id": {
            "type": "integer",
            "format": "int64"
          },
          "industri_baru_nama": {
            "type": "string"
          },
          "industri_lama_id": {
            "type": "integer",
            "format": "int64"
          },
          "industri_lama_nama": {
            "type": "string"
          },
          "siswa_id": {
            "type": "integer",
            "format": "int64"
          },
          "siswa_nama": {
            "type": "string"
          },
          "siswa_nisn": {
            "type": "string"
          },
          "status": {
            "type": "string"
          }
        }
      },
      "KaprogPindahStatusFilter": {
        "type": "string",
        "enum": [
          "pending_pembimbing",
          "pending_kaprog",
          "pending_koordinator",
          "approved",
          "rejected"
        ]
      },
      "KaprogPklPengajuanListItemDto": {
        "type": "object",
        "required": [
          "id",
          "siswa_id",
          "siswa_nama",
          "siswa_nisn",
          "industri_id",
          "industri_nama",
          "status",
          "created_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "industri_id": {
            "type": "integer",
            "format": "int64"
          },
          "industri_nama": {
            "type": "string"
          },
          "siswa_id": {
            "type": "integer",
            "format": "int64"
          },
          "siswa_nama": {
            "type": "string"
          },
          "siswa_nisn": {
            "type": "string"
          },
          "status": {
            "type": "string"
          }
        }
      },
      "KaprogPklStatusFilter": {
        "type": "string",
        "enum": [
          "pending",
          "approved",
          "rejected",
          "completed"
        ]
      },
      "KegiatanPklDto": {
        "type": "object",
        "required": [
          "id",
          "tahun_ajaran_id",
          "jenis_kegiatan",
          "tanggal_mulai",
          "tanggal_selesai",
          "status",
          "created_by",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "created_by": {
            "type": "integer",
            "format": "int64"
          },
          "deskripsi": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "jenis_kegiatan": {
            "$ref": "#/components/schemas/JenisKegiatanPkl"
          },
          "status": {
            "type": "string",
            "description": "Status kegiatan: 'active' jika belum lewat tanggal_selesai, 'completed' jika sudah lewat",
            "example": "active"
          },
          "tahun_ajaran_id": {
            "type": "integer",
            "format": "int64"
          },
          "tanggal_mulai": {
            "type": "string",
            "format": "date"
          },
          "tanggal_selesai": {
            "type": "string",
            "format": "date"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "KelasDto": {
        "type": "object",
        "description": "DTO for kelas response",
        "required": [
          "id",
          "jurusan_id",
          "nama",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "jurusan_id": {
            "type": "integer",
            "format": "int64"
          },
          "nama": {
            "type": "string"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          },
          "wali_kelas_guru_id": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          }
        }
      },
      "KelasInfoSummaryDto": {
        "type": "object",
        "required": [
          "id",
          "nama",
          "total_siswa"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "nama": {
            "type": "string"
          },
          "total_siswa": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "KoordinatorApprovedPklItemDto": {
        "type": "object",
        "required": [
          "application_id",
          "status",
          "tanggal_permohonan",
          "siswa_id",
          "siswa_username",
          "siswa_nisn",
          "kelas_id",
          "kelas_nama",
          "jurusan_id",
          "jurusan_nama",
          "industri_id",
          "industri_nama"
        ],
        "properties": {
          "application_id": {
            "type": "integer",
            "format": "int64"
          },
          "industri_id": {
            "type": "integer",
            "format": "int64"
          },
          "industri_nama": {
            "type": "string"
          },
          "jurusan_id": {
            "type": "integer",
            "format": "int64"
          },
          "jurusan_nama": {
            "type": "string"
          },
          "kelas_id": {
            "type": "integer",
            "format": "int64"
          },
          "kelas_nama": {
            "type": "string"
          },
          "siswa_id": {
            "type": "integer",
            "format": "int64"
          },
          "siswa_nisn": {
            "type": "string"
          },
          "siswa_username": {
            "type": "string"
          },
          "status": {
            "$ref": "#/components/schemas/PklStatus"
          },
          "tanggal_mulai": {
            "type": [
              "string",
              "null"
            ],
            "format": "date"
          },
          "tanggal_permohonan": {
            "type": "string",
            "format": "date-time"
          },
          "tanggal_selesai": {
            "type": [
              "string",
              "null"
            ],
            "format": "date"
          }
        }
      },
      "KoordinatorApprovedPklListDto": {
        "type": "object",
        "required": [
          "data",
          "total"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/KoordinatorApprovedPklItemDto"
            }
          },
          "total": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "KoordinatorApprovedPklQueryDto": {
        "type": "object",
        "properties": {
          "industri_id": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          },
          "jurusan_id": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          },
          "kelas_id": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          },
          "limit": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64",
            "minimum": 0
          },
          "page": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64",
            "minimum": 0
          },
          "search": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "LembarPersetujuanRequest": {
        "type": "object",
        "required": [
          "nama_perusahaan",
          "school_info",
          "students"
        ],
        "properties": {
          "nama_perusahaan": {
            "type": "string"
          },
          "school_info": {
            "$ref": "#/components/schemas/SchoolInfo"
          },
          "students": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/StudentInfo"
            }
          },
          "tempat_tanggal": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "ListGuruDto": {
        "type": "object",
        "required": [
          "data",
          "total_all",
          "total_this_pagination"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GuruDto"
            }
          },
          "total_all": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "total_this_pagination": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "ListGuruIndustriDto": {
        "type": "object",
        "required": [
          "data",
          "total"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GuruIndustriDto"
            }
          },
          "total": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "ListGuruSiswaDto": {
        "type": "object",
        "required": [
          "data",
          "total"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GuruSiswaDto"
            }
          },
          "total": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "ListIndustriDto": {
        "type": "object",
        "description": "List response DTO",
        "required": [
          "data",
          "total_all",
          "total_this_pagination"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/IndustriDto"
            }
          },
          "total_all": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "total_this_pagination": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "ListIndustryPreviewDto": {
        "type": "object",
        "required": [
          "data",
          "total"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/IndustryPreviewDto"
            }
          },
          "total": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "ListJurusanDto": {
        "type": "object",
        "description": "List response DTO",
        "required": [
          "data",
          "total_all",
          "total_this_pagination"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/JurusanDto"
            }
          },
          "total_all": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "total_this_pagination": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "ListKelasDto": {
        "type": "object",
        "description": "List response DTO",
        "required": [
          "data",
          "total_all",
          "total_this_pagination"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/KelasDto"
            }
          },
          "total_all": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "total_this_pagination": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "ListPklApplicationDto": {
        "type": "object",
        "required": [
          "data",
          "total"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PklApplicationDto"
            }
          },
          "total": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "ListPklApplicationReviewDto": {
        "type": "object",
        "required": [
          "data",
          "total"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PklApplicationReviewDto"
            }
          },
          "total": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "ListSiswaDto": {
        "type": "object",
        "required": [
          "data",
          "total_all",
          "total_this_pagination"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SiswaDto"
            }
          },
          "total_all": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "total_this_pagination": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "ListTahunAjaranDto": {
        "type": "object",
        "required": [
          "data",
          "total"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TahunAjaranDto"
            }
          },
          "total": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "LoginReqDto": {
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "properties": {
          "password": {
            "type": "string"
          },
          "username": {
            "type": "string"
          }
        }
      },
      "LoginResDto": {
        "type": "object",
        "description": "Login response DTO (with refresh token)",
        "required": [
          "access_token",
          "refresh_token",
          "token_type",
          "expires_in",
          "expires_at",
          "user"
        ],
        "properties": {
          "access_token": {
            "type": "string"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time"
          },
          "expires_in": {
            "type": "integer",
            "format": "int64"
          },
          "refresh_token": {
            "type": "string"
          },
          "token_type": {
            "type": "string"
          },
          "user": {
            "$ref": "#/components/schemas/UsrInfoDto"
          }
        }
      },
      "Notification": {
        "type": "object",
        "description": "Main notification structure sent to WebSocket clients",
        "required": [
          "type",
          "data",
          "timestamp"
        ],
        "properties": {
          "data": {
            "$ref": "#/components/schemas/NotificationData"
          },
          "group_data": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/GroupNotificationData"
              }
            ]
          },
          "izin_data": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/IzinNotificationData"
              }
            ]
          },
          "pindah_pkl_data": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/PindahPklNotificationData"
              }
            ]
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          },
          "type": {
            "$ref": "#/components/schemas/NotificationType"
          }
        }
      },
      "NotificationData": {
        "type": "object",
        "description": "Notification payload data",
        "required": [
          "application_id",
          "siswa_id",
          "siswa_username",
          "siswa_nama",
          "industri_id",
          "industri_nama",
          "jurusan_id",
          "jurusan_nama",
          "status"
        ],
        "properties": {
          "application_id": {
            "type": "integer",
            "format": "int64"
          },
          "catatan": {
            "type": [
              "string",
              "null"
            ]
          },
          "industri_id": {
            "type": "integer",
            "format": "int64"
          },
          "industri_nama": {
            "type": "string"
          },
          "jurusan_id": {
            "type": "integer",
            "format": "int64"
          },
          "jurusan_nama": {
            "type": "string"
          },
          "siswa_id": {
            "type": "integer",
            "format": "int64"
          },
          "siswa_nama": {
            "type": "string"
          },
          "siswa_username": {
            "type": "string"
          },
          "status": {
            "type": "string"
          }
        }
      },
      "NotificationType": {
        "type": "string",
        "description": "Notification types that can be broadcast via WebSocket",
        "enum": [
          "pkl_approved",
          "pkl_rejected",
          "izin_created",
          "izin_decided",
          "pindah_pkl_submitted",
          "pindah_pkl_pembimbing_approved",
          "pindah_pkl_kaprog_approved",
          "pindah_pkl_approved",
          "pindah_pkl_rejected",
          "group_invitation_received",
          "group_invitation_accepted",
          "group_invitation_declined",
          "group_submitted",
          "group_approved",
          "group_rejected"
        ]
      },
      "PaginationDto": {
        "type": "object",
        "description": "Pagination metadata",
        "required": [
          "page",
          "limit",
          "total_items",
          "total_pages"
        ],
        "properties": {
          "limit": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "page": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "total_items": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "total_pages": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "PdfResponse": {
        "type": "object",
        "required": [
          "filename",
          "file_url",
          "file_size"
        ],
        "properties": {
          "file_size": {
            "type": "integer",
            "format": "int64"
          },
          "file_url": {
            "type": "string"
          },
          "filename": {
            "type": "string"
          }
        }
      },
      "PembimbingGuruDto": {
        "type": "object",
        "required": [
          "id",
          "nama",
          "nip"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "nama": {
            "type": "string"
          },
          "nip": {
            "type": "string"
          },
          "no_telp": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "PembimbingSummary": {
        "type": "object",
        "required": [
          "id",
          "nama",
          "nip"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "nama": {
            "type": "string"
          },
          "nip": {
            "type": "string"
          }
        }
      },
      "PindahPklCreateMultipart": {
        "type": "object",
        "description": "Multipart form untuk upload file bukti\nHanya untuk dokumentasi Swagger",
        "required": [
          "industri_baru_id",
          "alasan",
          "files"
        ],
        "properties": {
          "alasan": {
            "type": "string",
            "description": "Alasan pemindahan",
            "example": "Jarak industri terlalu jauh"
          },
          "files": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "binary"
            },
            "description": "Upload 1-5 file bukti (JPEG/PNG/PDF, max 5MB each)\nGunakan field name \"files\" atau \"files[]\""
          },
          "industri_baru_id": {
            "type": "string",
            "description": "ID industri tujuan",
            "example": "123"
          }
        }
      },
      "PindahPklCreateRequest": {
        "type": "object",
        "description": "Request untuk membuat permohonan pindah PKL baru",
        "required": [
          "industri_baru_id",
          "alasan"
        ],
        "properties": {
          "alasan": {
            "type": "string",
            "description": "Alasan pemindahan (minimal 10 karakter)",
            "example": "Jarak industri terlalu jauh dari rumah"
          },
          "industri_baru_id": {
            "type": "string",
            "description": "ID industri tujuan (i64 sebagai string untuk konsistensi API)",
            "example": "123"
          }
        }
      },
      "PindahPklDecideRequest": {
        "type": "object",
        "description": "Request untuk approve/reject oleh pembimbing atau kaprog",
        "required": [
          "status"
        ],
        "properties": {
          "catatan": {
            "type": [
              "string",
              "null"
            ],
            "description": "Catatan tambahan (opsional untuk approve, wajib untuk reject)",
            "example": "Diterima dengan revisi jadwal"
          },
          "status": {
            "$ref": "#/components/schemas/PindahPklDecisionStatus",
            "description": "Keputusan: approved atau rejected"
          }
        }
      },
      "PindahPklDecisionStatus": {
        "type": "string",
        "description": "Enum untuk status keputusan",
        "enum": [
          "approved",
          "rejected"
        ]
      },
      "PindahPklDetailResponse": {
        "type": "object",
        "description": "Detail lengkap permohonan dengan history",
        "required": [
          "id",
          "status",
          "alasan",
          "bukti_pendukung",
          "siswa",
          "industri_lama",
          "industri_baru",
          "history",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "alasan": {
            "type": "string",
            "description": "Alasan pemindahan",
            "example": "Jarak industri terlalu jauh"
          },
          "bukti_pendukung": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Array URL file bukti pendukung"
          },
          "created_at": {
            "type": "string",
            "description": "Timestamp pembuatan",
            "example": "2026-02-08T10:30:00Z"
          },
          "history": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PindahPklHistoryItem"
            },
            "description": "History perubahan status"
          },
          "id": {
            "type": "integer",
            "format": "int64",
            "example": 1
          },
          "industri_baru": {
            "$ref": "#/components/schemas/IndustriSummary",
            "description": "Data industri baru"
          },
          "industri_lama": {
            "$ref": "#/components/schemas/IndustriSummary",
            "description": "Data industri lama"
          },
          "kaprog_catatan": {
            "type": [
              "string",
              "null"
            ],
            "description": "Catatan kaprog"
          },
          "koordinator_catatan": {
            "type": [
              "string",
              "null"
            ],
            "description": "Catatan koordinator"
          },
          "pembimbing_catatan": {
            "type": [
              "string",
              "null"
            ],
            "description": "Catatan pembimbing"
          },
          "siswa": {
            "$ref": "#/components/schemas/SiswaSummary",
            "description": "Data siswa pemohon"
          },
          "status": {
            "type": "string",
            "description": "Status permohonan",
            "example": "pending_pembimbing"
          },
          "tanggal_efektif": {
            "type": [
              "string",
              "null"
            ],
            "description": "Tanggal efektif pindah",
            "example": "2026-02-15"
          },
          "updated_at": {
            "type": "string",
            "description": "Timestamp update terakhir",
            "example": "2026-02-08T10:30:00Z"
          }
        }
      },
      "PindahPklFinalApproveRequest": {
        "type": "object",
        "description": "Request untuk final approve oleh koordinator",
        "required": [
          "status"
        ],
        "properties": {
          "catatan": {
            "type": [
              "string",
              "null"
            ],
            "description": "Catatan tambahan",
            "example": "Disetujui, silakan mulai di industri baru"
          },
          "status": {
            "$ref": "#/components/schemas/PindahPklDecisionStatus",
            "description": "Keputusan: approved atau rejected"
          },
          "tanggal_efektif": {
            "type": [
              "string",
              "null"
            ],
            "format": "date",
            "description": "Tanggal efektif mulai di industri baru (wajib untuk approve)",
            "example": "2026-02-15"
          }
        }
      },
      "PindahPklHistoryItem": {
        "type": "object",
        "description": "Item history perubahan status",
        "required": [
          "status_baru",
          "actor_role",
          "created_at"
        ],
        "properties": {
          "actor_role": {
            "type": "string",
            "description": "Role yang melakukan perubahan",
            "example": "pembimbing"
          },
          "catatan": {
            "type": [
              "string",
              "null"
            ],
            "description": "Catatan saat perubahan"
          },
          "created_at": {
            "type": "string",
            "description": "Timestamp perubahan",
            "example": "2026-02-08T14:20:00Z"
          },
          "status_baru": {
            "type": "string",
            "description": "Status setelah perubahan",
            "example": "pending_kaprog"
          },
          "status_lama": {
            "type": [
              "string",
              "null"
            ],
            "description": "Status sebelum perubahan",
            "example": "pending_pembimbing"
          }
        }
      },
      "PindahPklListItem": {
        "type": "object",
        "description": "Item list permohonan (simplified view)",
        "required": [
          "id",
          "status",
          "siswa_nama",
          "industri_lama_nama",
          "industri_baru_nama",
          "created_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "description": "Timestamp pembuatan",
            "example": "2026-02-08T10:30:00Z"
          },
          "id": {
            "type": "integer",
            "format": "int64",
            "example": 1
          },
          "industri_baru_nama": {
            "type": "string",
            "description": "Nama industri baru (tujuan)",
            "example": "PT Teknologi Nusantara"
          },
          "industri_lama_nama": {
            "type": "string",
            "description": "Nama industri lama",
            "example": "PT Maju Jaya"
          },
          "siswa_nama": {
            "type": "string",
            "description": "Nama siswa pemohon",
            "example": "Ahmad Rizky"
          },
          "status": {
            "type": "string",
            "description": "Status permohonan",
            "example": "pending_pembimbing"
          }
        }
      },
      "PindahPklListResponse": {
        "type": "object",
        "description": "Response list permohonan dengan pagination",
        "required": [
          "items",
          "total"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PindahPklListItem"
            },
            "description": "Array item permohonan"
          },
          "total": {
            "type": "integer",
            "format": "int64",
            "description": "Total jumlah permohonan",
            "example": 25
          }
        }
      },
      "PindahPklNotificationData": {
        "type": "object",
        "description": "Notification payload data for pindah_pkl events",
        "required": [
          "pindah_pkl_id",
          "siswa_id",
          "siswa_nama",
          "industri_lama_id",
          "industri_lama_nama",
          "industri_baru_id",
          "industri_baru_nama",
          "status"
        ],
        "properties": {
          "catatan": {
            "type": [
              "string",
              "null"
            ]
          },
          "industri_baru_id": {
            "type": "integer",
            "format": "int64"
          },
          "industri_baru_nama": {
            "type": "string"
          },
          "industri_lama_id": {
            "type": "integer",
            "format": "int64"
          },
          "industri_lama_nama": {
            "type": "string"
          },
          "pindah_pkl_id": {
            "type": "integer",
            "format": "int64"
          },
          "siswa_id": {
            "type": "integer",
            "format": "int64"
          },
          "siswa_nama": {
            "type": "string"
          },
          "status": {
            "type": "string"
          }
        }
      },
      "PindahPklResponse": {
        "type": "object",
        "description": "Response untuk permohonan pindah PKL",
        "required": [
          "id",
          "status",
          "alasan",
          "bukti_pendukung",
          "industri_lama",
          "industri_baru",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "alasan": {
            "type": "string",
            "description": "Alasan pemindahan",
            "example": "Jarak industri terlalu jauh"
          },
          "bukti_pendukung": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Array URL file bukti pendukung",
            "example": [
              "https://storage.example.com/bukti1.jpg"
            ]
          },
          "created_at": {
            "type": "string",
            "description": "Timestamp pembuatan (format: ISO 8601)",
            "example": "2026-02-08T10:30:00Z"
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "industri_baru": {
            "$ref": "#/components/schemas/IndustriSummary",
            "description": "Data industri baru (tujuan)"
          },
          "industri_lama": {
            "$ref": "#/components/schemas/IndustriSummary",
            "description": "Data industri lama"
          },
          "kaprog_catatan": {
            "type": [
              "string",
              "null"
            ],
            "description": "Catatan dari kaprog (jika ada)"
          },
          "koordinator_catatan": {
            "type": [
              "string",
              "null"
            ],
            "description": "Catatan dari koordinator (jika ada)"
          },
          "pembimbing_catatan": {
            "type": [
              "string",
              "null"
            ],
            "description": "Catatan dari pembimbing (jika ada)"
          },
          "status": {
            "type": "string",
            "description": "Status permohonan: pending_pembimbing, pending_kaprog, pending_koordinator, approved, rejected",
            "example": "pending_pembimbing"
          },
          "tanggal_efektif": {
            "type": [
              "string",
              "null"
            ],
            "description": "Tanggal efektif pindah (format: YYYY-MM-DD)",
            "example": "2026-02-15"
          },
          "updated_at": {
            "type": "string",
            "description": "Timestamp update terakhir (format: ISO 8601)",
            "example": "2026-02-08T10:30:00Z"
          }
        }
      },
      "PklApplicationDto": {
        "type": "object",
        "required": [
          "id",
          "siswa_id",
          "industri_id",
          "status",
          "tanggal_permohonan",
          "dokumen_urls"
        ],
        "properties": {
          "catatan": {
            "type": [
              "string",
              "null"
            ]
          },
          "decided_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time"
          },
          "dokumen_urls": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "industri_id": {
            "type": "integer",
            "format": "int64"
          },
          "kaprog_note": {
            "type": [
              "string",
              "null"
            ]
          },
          "pembimbing_guru_id": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          },
          "processed_by": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          },
          "siswa_id": {
            "type": "integer",
            "format": "int64"
          },
          "status": {
            "$ref": "#/components/schemas/PklStatus"
          },
          "tanggal_mulai": {
            "type": [
              "string",
              "null"
            ],
            "format": "date"
          },
          "tanggal_permohonan": {
            "type": "string",
            "format": "date-time"
          },
          "tanggal_selesai": {
            "type": [
              "string",
              "null"
            ],
            "format": "date"
          }
        }
      },
      "PklApplicationReviewDto": {
        "type": "object",
        "required": [
          "application",
          "siswa_username",
          "siswa_nisn",
          "kelas_id",
          "kelas_nama",
          "jurusan_id",
          "jurusan_nama",
          "industri_nama"
        ],
        "properties": {
          "application": {
            "$ref": "#/components/schemas/PklApplicationDto"
          },
          "industri_nama": {
            "type": "string"
          },
          "jurusan_id": {
            "type": "integer",
            "format": "int64"
          },
          "jurusan_nama": {
            "type": "string"
          },
          "kelas_id": {
            "type": "integer",
            "format": "int64"
          },
          "kelas_nama": {
            "type": "string"
          },
          "siswa_nisn": {
            "type": "string"
          },
          "siswa_username": {
            "type": "string"
          }
        }
      },
      "PklDto": {
        "type": "object",
        "required": [
          "id",
          "application_id",
          "siswa_id",
          "industri_id",
          "tanggal_mulai",
          "tanggal_selesai",
          "status",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "application_id": {
            "type": "integer",
            "format": "int64"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "industri_id": {
            "type": "integer",
            "format": "int64"
          },
          "pembimbing_guru_id": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          },
          "siswa_id": {
            "type": "integer",
            "format": "int64"
          },
          "status": {
            "$ref": "#/components/schemas/PklStatus"
          },
          "tanggal_mulai": {
            "type": "string",
            "format": "date"
          },
          "tanggal_selesai": {
            "type": "string",
            "format": "date"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "PklStatus": {
        "type": "string",
        "enum": [
          "Pending",
          "Approved",
          "Rejected",
          "Completed"
        ]
      },
      "RealisasiKegiatanDto": {
        "type": "object",
        "required": [
          "id",
          "kegiatan_id",
          "pembimbing_id",
          "industri_id",
          "bukti_foto_urls",
          "status",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "bukti_foto_urls": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "catatan": {
            "type": [
              "string",
              "null"
            ]
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "industri_id": {
            "type": "integer",
            "format": "int64"
          },
          "kegiatan_id": {
            "type": "integer",
            "format": "int64"
          },
          "pembimbing_id": {
            "type": "integer",
            "format": "int64"
          },
          "status": {
            "$ref": "#/components/schemas/StatusRealisasiEnum"
          },
          "tanggal_realisasi": {
            "type": [
              "string",
              "null"
            ],
            "format": "date"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "RefreshReqDto": {
        "type": "object",
        "description": "Refresh token request DTO",
        "required": [
          "token"
        ],
        "properties": {
          "access_token": {
            "type": [
              "string",
              "null"
            ]
          },
          "token": {
            "type": "string"
          }
        }
      },
      "RegisterReqDto": {
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "properties": {
          "is_active": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "password": {
            "type": "string"
          },
          "role": {
            "type": [
              "string",
              "null"
            ]
          },
          "username": {
            "type": "string"
          }
        }
      },
      "RejectGroupRequest": {
        "type": "object",
        "required": [
          "reason"
        ],
        "properties": {
          "reason": {
            "type": "string",
            "example": "Kuota industri tidak mencukupi"
          }
        }
      },
      "RejectPklApplicationDto": {
        "type": "object",
        "required": [
          "catatan"
        ],
        "properties": {
          "catatan": {
            "type": "string"
          }
        }
      },
      "RespondInvitationRequest": {
        "type": "object",
        "required": [
          "accept"
        ],
        "properties": {
          "accept": {
            "type": "boolean",
            "example": true
          }
        }
      },
      "SchoolInfo": {
        "type": "object",
        "required": [
          "nama_sekolah",
          "alamat_jalan",
          "kab_kota",
          "provinsi"
        ],
        "properties": {
          "alamat_jalan": {
            "type": "string"
          },
          "email": {
            "type": [
              "string",
              "null"
            ]
          },
          "kab_kota": {
            "type": "string"
          },
          "kecamatan": {
            "type": [
              "string",
              "null"
            ]
          },
          "kelurahan": {
            "type": [
              "string",
              "null"
            ]
          },
          "kode_pos": {
            "type": [
              "string",
              "null"
            ]
          },
          "logo_url": {
            "type": [
              "string",
              "null"
            ]
          },
          "nama_sekolah": {
            "type": "string"
          },
          "provinsi": {
            "type": "string"
          },
          "telepon": {
            "type": [
              "string",
              "null"
            ]
          },
          "website": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "SekolahDto": {
        "type": "object",
        "description": "DTO for sekolah response",
        "required": [
          "id",
          "npsn",
          "nama_sekolah",
          "nomor_telepon",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "akreditasi": {
            "type": [
              "string",
              "null"
            ]
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "email": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "jalan": {
            "type": [
              "string",
              "null"
            ]
          },
          "jenis_sekolah": {
            "type": [
              "string",
              "null"
            ]
          },
          "kabupaten_kota": {
            "type": [
              "string",
              "null"
            ]
          },
          "kecamatan": {
            "type": [
              "string",
              "null"
            ]
          },
          "kelurahan": {
            "type": [
              "string",
              "null"
            ]
          },
          "kepala_sekolah": {
            "type": [
              "string",
              "null"
            ]
          },
          "kode_pos": {
            "type": [
              "string",
              "null"
            ]
          },
          "logo_key": {
            "type": [
              "string",
              "null"
            ]
          },
          "logo_url": {
            "type": [
              "string",
              "null"
            ]
          },
          "nama_sekolah": {
            "type": "string"
          },
          "nip_kepala_sekolah": {
            "type": [
              "string",
              "null"
            ]
          },
          "nomor_telepon": {
            "type": "string"
          },
          "npsn": {
            "type": "string"
          },
          "provinsi": {
            "type": [
              "string",
              "null"
            ]
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          },
          "website": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "SekolahSingleResponse": {
        "type": "object",
        "required": [
          "success",
          "data",
          "message"
        ],
        "properties": {
          "data": {
            "$ref": "#/components/schemas/SekolahDto"
          },
          "message": {
            "type": "string"
          },
          "success": {
            "type": "boolean"
          }
        }
      },
      "SiswaDto": {
        "type": "object",
        "required": [
          "id",
          "nama_lengkap",
          "nisn",
          "kelas_id",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "alamat": {
            "type": [
              "string",
              "null"
            ]
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "kelas_id": {
            "type": "integer",
            "format": "int64"
          },
          "nama_lengkap": {
            "type": "string"
          },
          "nisn": {
            "type": "string"
          },
          "no_telp": {
            "type": [
              "string",
              "null"
            ]
          },
          "tanggal_lahir": {
            "type": [
              "string",
              "null"
            ],
            "format": "date"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "SiswaIndustryDetailDto": {
        "type": "object",
        "required": [
          "id",
          "name",
          "quota",
          "remaining_slots"
        ],
        "properties": {
          "address": {
            "type": [
              "string",
              "null"
            ]
          },
          "description": {
            "type": [
              "string",
              "null"
            ]
          },
          "email": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "type": "string"
          },
          "pic_name": {
            "type": [
              "string",
              "null"
            ]
          },
          "pic_phone": {
            "type": [
              "string",
              "null"
            ]
          },
          "quota": {
            "type": "integer",
            "format": "int32"
          },
          "remaining_slots": {
            "type": "integer",
            "format": "int64"
          },
          "sector": {
            "type": [
              "string",
              "null"
            ]
          },
          "website": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "SiswaIndustryPreviewDto": {
        "type": "object",
        "required": [
          "id",
          "name",
          "quota",
          "remaining_slots"
        ],
        "properties": {
          "address": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "type": "string"
          },
          "quota": {
            "type": "integer",
            "format": "int32"
          },
          "remaining_slots": {
            "type": "integer",
            "format": "int64"
          },
          "sector": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "SiswaLoginReqDto": {
        "type": "object",
        "required": [
          "nama_lengkap",
          "nisn"
        ],
        "properties": {
          "nama_lengkap": {
            "type": "string"
          },
          "nisn": {
            "type": "string"
          }
        }
      },
      "SiswaLoginResDto": {
        "type": "object",
        "required": [
          "access_token",
          "refresh_token",
          "token_type",
          "expires_in",
          "expires_at",
          "user"
        ],
        "properties": {
          "access_token": {
            "type": "string"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time"
          },
          "expires_in": {
            "type": "integer",
            "format": "int64"
          },
          "refresh_token": {
            "type": "string"
          },
          "token_type": {
            "type": "string"
          },
          "user": {
            "$ref": "#/components/schemas/SiswaUserDto"
          }
        }
      },
      "SiswaPklSummaryDto": {
        "type": "object",
        "required": [
          "id",
          "nisn",
          "nama",
          "status_pkl"
        ],
        "properties": {
          "alamat_industri": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "industri": {
            "type": [
              "string",
              "null"
            ]
          },
          "nama": {
            "type": "string"
          },
          "nisn": {
            "type": "string"
          },
          "no_telp_industri": {
            "type": [
              "string",
              "null"
            ]
          },
          "no_telp_pembimbing_sekolah": {
            "type": [
              "string",
              "null"
            ]
          },
          "pembimbing": {
            "type": [
              "string",
              "null"
            ]
          },
          "pembimbing_industri": {
            "type": [
              "string",
              "null"
            ]
          },
          "status_pkl": {
            "type": "string"
          }
        }
      },
      "SiswaSummary": {
        "type": "object",
        "required": [
          "id",
          "nama",
          "nisn",
          "kelas"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "kelas": {
            "type": "string"
          },
          "nama": {
            "type": "string"
          },
          "nisn": {
            "type": "string"
          }
        }
      },
      "SiswaUserDto": {
        "type": "object",
        "required": [
          "id",
          "nama_lengkap",
          "role",
          "is_active",
          "kelas_id"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "is_active": {
            "type": "boolean"
          },
          "kelas_id": {
            "type": "integer",
            "format": "int64"
          },
          "nama_lengkap": {
            "type": "string"
          },
          "role": {
            "type": "string"
          }
        }
      },
      "StatusRealisasiEnum": {
        "type": "string",
        "enum": [
          "Belum",
          "Sudah"
        ]
      },
      "StudentInfo": {
        "type": "object",
        "required": [
          "nama"
        ],
        "properties": {
          "nama": {
            "type": "string"
          }
        }
      },
      "StudentIssueCreateReqDto": {
        "type": "object",
        "required": [
          "siswa_id",
          "kategori",
          "judul",
          "deskripsi"
        ],
        "properties": {
          "deskripsi": {
            "type": "string"
          },
          "judul": {
            "type": "string"
          },
          "kategori": {
            "type": "string"
          },
          "siswa_id": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "StudentIssueItemDto": {
        "type": "object",
        "required": [
          "id",
          "siswa",
          "pembimbing",
          "kategori",
          "judul",
          "deskripsi",
          "status",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "deskripsi": {
            "type": "string"
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "judul": {
            "type": "string"
          },
          "kategori": {
            "type": "string"
          },
          "pembimbing": {
            "$ref": "#/components/schemas/StudentIssuePembimbingSummaryDto"
          },
          "resolved_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time"
          },
          "siswa": {
            "$ref": "#/components/schemas/StudentIssueSiswaSummaryDto"
          },
          "status": {
            "type": "string"
          },
          "tindak_lanjut": {
            "type": [
              "string",
              "null"
            ]
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "StudentIssueListQueryDto": {
        "type": "object",
        "properties": {
          "limit": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64",
            "minimum": 0
          },
          "page": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64",
            "minimum": 0
          },
          "search": {
            "type": [
              "string",
              "null"
            ]
          },
          "status": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "StudentIssueListResDto": {
        "type": "object",
        "required": [
          "items",
          "pagination"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/StudentIssueItemDto"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/StudentIssuePaginationDto"
          }
        }
      },
      "StudentIssuePaginationDto": {
        "type": "object",
        "required": [
          "page",
          "limit",
          "total_items",
          "total_pages"
        ],
        "properties": {
          "limit": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "page": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "total_items": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "total_pages": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "StudentIssuePembimbingSummaryDto": {
        "type": "object",
        "required": [
          "id",
          "nama"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "nama": {
            "type": "string"
          }
        }
      },
      "StudentIssueSiswaSummaryDto": {
        "type": "object",
        "required": [
          "id",
          "nisn",
          "nama"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "nama": {
            "type": "string"
          },
          "nisn": {
            "type": "string"
          }
        }
      },
      "StudentIssueUpdateReqDto": {
        "type": "object",
        "properties": {
          "deskripsi": {
            "type": [
              "string",
              "null"
            ]
          },
          "status": {
            "type": [
              "string",
              "null"
            ]
          },
          "tindak_lanjut": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "SubmitGroupRequest": {
        "type": "object",
        "required": [
          "industri_id",
          "tanggal_mulai",
          "tanggal_selesai"
        ],
        "properties": {
          "catatan": {
            "type": [
              "string",
              "null"
            ],
            "example": "Ingin belajar di industri ini bersama teman"
          },
          "industri_id": {
            "type": "integer",
            "format": "int64",
            "example": 1
          },
          "tanggal_mulai": {
            "type": "string",
            "format": "date",
            "example": "2025-03-01"
          },
          "tanggal_selesai": {
            "type": "string",
            "format": "date",
            "example": "2025-06-30"
          }
        }
      },
      "SuccessResDto": {
        "type": "object",
        "description": "Success response DTO",
        "required": [
          "success",
          "message"
        ],
        "properties": {
          "data": {

          },
          "message": {
            "type": "string"
          },
          "success": {
            "type": "boolean"
          }
        }
      },
      "TahunAjaranDto": {
        "type": "object",
        "required": [
          "id",
          "kode",
          "nama",
          "is_active",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "is_active": {
            "type": "boolean"
          },
          "kode": {
            "type": "string"
          },
          "nama": {
            "type": "string"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "TokenResDto": {
        "type": "object",
        "description": "Token response DTO (legacy, keeping for compatibility)",
        "required": [
          "token",
          "token_type",
          "exp_in",
          "exp_at",
          "usr"
        ],
        "properties": {
          "exp_at": {
            "type": "string",
            "format": "date-time"
          },
          "exp_in": {
            "type": "integer",
            "format": "int64"
          },
          "token": {
            "type": "string"
          },
          "token_type": {
            "type": "string"
          },
          "usr": {
            "$ref": "#/components/schemas/UsrInfoDto"
          }
        }
      },
      "UpdateGroupMembersRequest": {
        "type": "object",
        "required": [
          "invited_members"
        ],
        "properties": {
          "invited_members": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": [
              "budi123",
              "citra456",
              "dewi789"
            ]
          }
        }
      },
      "UpdateGuruDto": {
        "type": "object",
        "properties": {
          "is_active": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "is_kaprog": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "is_koordinator": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "is_pembimbing": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "is_wali_kelas": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "kode_guru": {
            "type": [
              "string",
              "null"
            ]
          },
          "nama": {
            "type": [
              "string",
              "null"
            ]
          },
          "nip": {
            "type": [
              "string",
              "null"
            ]
          },
          "no_telp": {
            "type": [
              "string",
              "null"
            ]
          },
          "password": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "UpdateGuruMeDto": {
        "type": "object",
        "properties": {
          "kode_guru": {
            "type": [
              "string",
              "null"
            ]
          },
          "nama": {
            "type": [
              "string",
              "null"
            ]
          },
          "nip": {
            "type": [
              "string",
              "null"
            ]
          },
          "no_telp": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "UpdateIndustriDto": {
        "type": "object",
        "description": "DTO for updating an existing industri",
        "properties": {
          "alamat": {
            "type": [
              "string",
              "null"
            ]
          },
          "bidang": {
            "type": [
              "string",
              "null"
            ]
          },
          "email": {
            "type": [
              "string",
              "null"
            ]
          },
          "jurusan_id": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          },
          "nama": {
            "type": [
              "string",
              "null"
            ]
          },
          "no_telp": {
            "type": [
              "string",
              "null"
            ]
          },
          "pic": {
            "type": [
              "string",
              "null"
            ]
          },
          "pic_telp": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "UpdateIndustryQuotaDto": {
        "type": "object",
        "properties": {
          "kuota_siswa": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32"
          }
        }
      },
      "UpdateJurusanDto": {
        "type": "object",
        "description": "DTO for updating an existing jurusan",
        "properties": {
          "kaprog_guru_id": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          },
          "kode": {
            "type": [
              "string",
              "null"
            ]
          },
          "nama": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "UpdateKegiatanPklDto": {
        "type": "object",
        "properties": {
          "deskripsi": {
            "type": [
              "string",
              "null"
            ]
          },
          "jenis_kegiatan": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/JenisKegiatanPkl"
              }
            ]
          },
          "tahun_ajaran_id": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          },
          "tanggal_mulai": {
            "type": [
              "string",
              "null"
            ],
            "format": "date"
          },
          "tanggal_selesai": {
            "type": [
              "string",
              "null"
            ],
            "format": "date"
          }
        }
      },
      "UpdateKelasDto": {
        "type": "object",
        "description": "DTO for updating an existing kelas",
        "properties": {
          "jurusan_id": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          },
          "nama": {
            "type": [
              "string",
              "null"
            ]
          },
          "remove_wali_kelas": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "wali_kelas_guru_id": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          }
        }
      },
      "UpdateRealisasiFotoDto": {
        "type": "object",
        "description": "DTO for updating foto on existing realisasi",
        "required": [
          "bukti_foto_urls"
        ],
        "properties": {
          "bukti_foto_urls": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": [
              "https://url1.com",
              "https://url2.com"
            ]
          }
        }
      },
      "UpdateSekolahDto": {
        "type": "object",
        "description": "DTO for updating an existing sekolah",
        "properties": {
          "akreditasi": {
            "type": [
              "string",
              "null"
            ]
          },
          "email": {
            "type": [
              "string",
              "null"
            ]
          },
          "jalan": {
            "type": [
              "string",
              "null"
            ]
          },
          "jenis_sekolah": {
            "type": [
              "string",
              "null"
            ]
          },
          "kabupaten_kota": {
            "type": [
              "string",
              "null"
            ]
          },
          "kecamatan": {
            "type": [
              "string",
              "null"
            ]
          },
          "kelurahan": {
            "type": [
              "string",
              "null"
            ]
          },
          "kepala_sekolah": {
            "type": [
              "string",
              "null"
            ]
          },
          "kode_pos": {
            "type": [
              "string",
              "null"
            ]
          },
          "logo": {
            "type": [
              "string",
              "null"
            ]
          },
          "nama_sekolah": {
            "type": [
              "string",
              "null"
            ]
          },
          "nip_kepala_sekolah": {
            "type": [
              "string",
              "null"
            ]
          },
          "nomor_telepon": {
            "type": [
              "string",
              "null"
            ]
          },
          "npsn": {
            "type": [
              "string",
              "null"
            ]
          },
          "provinsi": {
            "type": [
              "string",
              "null"
            ]
          },
          "website": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "UpdateSiswaDto": {
        "type": "object",
        "properties": {
          "alamat": {
            "type": [
              "string",
              "null"
            ]
          },
          "kelas_id": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          },
          "nama_lengkap": {
            "type": [
              "string",
              "null"
            ]
          },
          "nisn": {
            "type": [
              "string",
              "null"
            ]
          },
          "no_telp": {
            "type": [
              "string",
              "null"
            ]
          },
          "tanggal_lahir": {
            "type": [
              "string",
              "null"
            ],
            "format": "date"
          }
        }
      },
      "UpdateTahunAjaranDto": {
        "type": "object",
        "properties": {
          "is_active": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "kode": {
            "type": [
              "string",
              "null"
            ]
          },
          "nama": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "UploadErrorResponse": {
        "type": "object",
        "description": "Upload error response",
        "required": [
          "error"
        ],
        "properties": {
          "error": {
            "type": "string"
          }
        }
      },
      "UploadResponse": {
        "type": "object",
        "description": "Upload response",
        "required": [
          "url",
          "filename"
        ],
        "properties": {
          "filename": {
            "type": "string"
          },
          "url": {
            "type": "string"
          }
        }
      },
      "UsrInfoDto": {
        "type": "object",
        "description": "User info in token response",
        "required": [
          "id",
          "username",
          "role",
          "is_active"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "is_active": {
            "type": "boolean"
          },
          "role": {
            "type": "string"
          },
          "username": {
            "type": "string"
          }
        }
      },
      "WaliKelasDashboardDto": {
        "type": "object",
        "description": "Wali Kelas Dashboard DTO",
        "required": [
          "kelas_info",
          "siswa_list",
          "pagination"
        ],
        "properties": {
          "kelas_info": {
            "$ref": "#/components/schemas/KelasInfoSummaryDto"
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationDto"
          },
          "siswa_list": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SiswaPklSummaryDto"
            }
          }
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "Use Authorization: Bearer {token}"
      }
    }
  },
  "tags": [
    {
      "name": "Authentication",
      "description": "Authentication and authorization endpoints - login, logout, refresh token, health check"
    },
    {
      "name": "Admin",
      "description": "Admin-only endpoints for CRUD master data: Jurusan, Kelas, Industri, Guru, Siswa, Tahun Ajaran, dan Dashboard stats. Requires role='adm'."
    },
    {
      "name": "Koordinator",
      "description": "Koordinator endpoints for managing kegiatan PKL formal (orientasi, pelaksanaan, evaluasi). Requires is_koordinator=true."
    },
    {
      "name": "Kaprog",
      "description": "Kaprog endpoints untuk review, approve/reject permohonan PKL, set pembimbing, manage kuota industri. Requires is_kaprog=true."
    },
    {
      "name": "Wali Kelas",
      "description": "Wali Kelas endpoints untuk memantau siswa di kelas, monitoring kegiatan PKL siswa. Requires is_wali_kelas=true."
    },
    {
      "name": "Pembimbing",
      "description": "Pembimbing endpoints untuk submit realisasi kegiatan, view industri & siswa yang dibimbing. Requires is_pembimbing=true."
    },
    {
      "name": "Siswa",
      "description": "Siswa endpoints untuk submit permohonan PKL, view status permohonan, view PKL aktif. Requires role='ssw'."
    },
    {
      "name": "WebSocket",
      "description": "Real-time notifications via WebSocket. Connect at /ws?token={JWT}. Only students (role: ssw) can connect. See /ws-docs for complete guide."
    },
    {
      "name": "Upload",
      "description": "File upload endpoints for images (JPEG/PNG). Max 5MB per file, validates MIME type, uploads original files without compression."
    },
    {
      "name": "Sekolah",
      "description": "Sekolah management endpoints. Admin can create/update sekolah with logo upload. All authenticated users can view sekolah data."
    },
    {
      "name": "Guru",
      "description": "Guru endpoints untuk update profil diri sendiri (nama, nip, no_telp, kode_guru). Requires role='gru'."
    },
    {
      "name": "Izin",
      "description": "Izin (permission/leave) endpoints untuk siswa mengajukan izin, pembimbing approve/reject, dan wali kelas melihat riwayat. Siswa (role: ssw) bisa create/edit/delete pending. Pembimbing (is_pembimbing=true) bisa approve/reject. Wali kelas (is_wali_kelas=true) bisa lihat riwayat."
    },
    {
      "name": "Pindah PKL",
      "description": "Pindah PKL endpoints untuk siswa mengajukan pemindahan lokasi PKL ke industri lain. Flow: Siswa Submit -\u003E Pembimbing Approve -\u003E Kaprog Approve -\u003E Koordinator Final Approve. Setiap level dapat reject (return quota). Siswa (role: ssw) bisa submit dan lihat status. Pembimbing, Kaprog, Koordinator masing-masing bisa list pending dan decide."
    },
    {
      "name": "PKL Group",
      "description": "PKL Group Application Endpoints - Allows students to apply for PKL together with classmates"
    },
    {
      "name": "Student Issues",
      "description": "Monitoring permasalahan siswa. Akses: Guru Pembimbing (is_pembimbing=true) dapat create/list/update issue miliknya; Wali Kelas (is_wali_kelas=true) dapat list/detail issue siswa di kelasnya (read-only). Semua endpoint membutuhkan autentikasi JWT role guru (role='gru')."
    }
  ]
}
